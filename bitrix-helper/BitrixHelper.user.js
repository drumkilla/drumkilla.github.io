// ==UserScript==
// @name         BitrixHelper
// @namespace    npm/vite-plugin-monkey
// @version      1.1.0
// @author       drumkilla
// @description  Набор инструментов для облегчения работы с 1С Битрикс
// @license      MIT
// @match        http*://*/bitrix/admin/*
// @grant        GM_addStyle
// @grant        GM_getValue
// @grant        GM_info
// @grant        GM_registerMenuCommand
// @grant        GM_setClipboard
// @grant        GM_setValue
// @run-at       document-end
// ==/UserScript==

(t=>{if(typeof GM_addStyle=="function"){GM_addStyle(t);return}const e=document.createElement("style");e.textContent=t,document.head.append(e)})(` :root{--bx-helper-transition-speed: .2s}.bx-helper-toolbar{position:fixed;top:50%;right:0;display:flex;max-width:64px;flex-direction:column;background:#636c7b;border-bottom-left-radius:5px;border-top-left-radius:5px;padding:5px;z-index:1001;transform:translateY(-50%)}.bx-helper-toolbar-item{padding:5px;filter:grayscale(100%);transition:all .3s ease-in-out;border-radius:5px;width:20px;height:20px;display:flex;justify-content:center;align-items:center;text-decoration:none;color:#fff;font-size:16px}.bx-helper-toolbar-item.active,.bx-helper-toolbar-item:hover{filter:grayscale(0%);background:#808a8c;text-decoration:none}.bx-helper-toolbar-item.hidden{display:none}.bx-helper-toolbar-item:not(:last-child){margin-bottom:5px}.bx-helper-toolbar-icon{max-width:100%}.bx-helper-toolbar-icon svg{display:block}#bx-helper-settings-form table tr{vertical-align:top}.bx-helper-settings-popup-btn{text-decoration:none!important;color:#3f4b54!important}.bx-helper-settings-popup-btn-delete:before{margin:2px -10px 0 -5px!important}.bx-helper-tab-list{display:flex;margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid #e2ebed}.bx-helper-tab-btn{padding:10px 15px;background:#e2ebed;cursor:pointer;font-weight:700!important}.bx-helper-tab-btn:hover,.bx-helper-tab-btn-active{background:#3bc8f5;color:#fff!important}.bx-helper-tab-btn:first-child{border-top-left-radius:5px;border-bottom-left-radius:5px}.bx-helper-tab-btn:last-child{border-top-right-radius:5px;border-bottom-right-radius:5px}.bx-helper-tab-content{display:none}.bx-helper-tab-content-active{display:block}.bx-helper-tab-content .list-of-plugin-settings{display:flex;justify-content:space-between;margin:0 -5px -10px;flex-wrap:wrap}.bx-helper-tab-content .list-of-plugin-settings .plugin-settings{margin:0 5px 10px;width:calc(50% - 32px)}.bx-helper-tab-content .inner-tab-container{padding:10px;border:1px solid #e2ebed;border-radius:5px;background:#fdfdfd}.bx-helper-tab-content .inner-tab-container h1,.bx-helper-tab-content .inner-tab-container h2,.bx-helper-tab-content .inner-tab-container h3,.bx-helper-tab-content .inner-tab-container h4,.bx-helper-tab-content .inner-tab-container h5,.bx-helper-tab-content .inner-tab-container h6{margin:unset;margin-bottom:10px}.bx-helper-tab-content .inner-tab-container hr{border:none;border-bottom:1px solid #e2ebed}.bx-helper-tab-content .plugin-settings{padding:10px;border:1px solid #e2ebed;border-radius:5px;background:#fdfdfd;margin-bottom:10px}.bx-helper-tab-content .plugin-settings .plugin-input{margin-bottom:5px;line-height:18px}.bx-helper-tab-content .plugin-settings .plugin-input.with-hint{position:relative;padding-right:20px}.bx-helper-tab-content .plugin-settings .plugin-input .hint-block{width:16px;height:16px;top:0;position:absolute;margin-left:5px;right:0}.bx-helper-tab-content .plugin-settings .plugin-input .hint-block svg{stroke:#aaa}.bx-helper-tab-content .plugin-settings .plugin-input .hotkey-block{display:inline-block;margin-left:5px}.bx-helper-tab-content .plugin-settings .plugin-input .hotkey-block kbd{background:#e2ebed;padding:2px 4px;border-radius:2px;font-size:12px}.bx-helper-tab-content .plugin-settings-header{border-bottom:1px solid #e2ebed;margin-bottom:10px;padding-bottom:10px}.adm-detail-toolbar .go-to-elements-btn{float:right;margin-right:13px!important;margin-top:0!important}.adm-detail-toolbar .go-to-elements-btn:disabled{cursor:wait!important}.copy-property-btn,.paste-property-btn{background:none;border:none;padding:5px 10px;cursor:pointer}.copy-property-btn svg,.paste-property-btn svg{stroke:#ccc;width:20px;height:20px;transition:stroke var(--bx-helper-transition-speed) ease-in-out 0s}.copy-property-btn:hover svg,.paste-property-btn:hover svg{stroke:#3f4b54}td.copy-paste-property{text-align:center;vertical-align:middle}.adm-submenu.bx-helper-menu-fixed{overflow-y:scroll!important;max-height:100vh!important}.adm-submenu.bx-helper-menu-fixed .adm-submenu-separator{bottom:0!important;position:sticky!important}.go-to-iblock-entity-popup{position:fixed;top:50%;width:400px;left:45%;background:#fff;z-index:1060;border-radius:5px;padding:10px;box-shadow:0 0 10px #b4b4b452}.go-to-iblock-entity-popup .entity-id{margin-bottom:10px}.go-to-iblock-entity-popup-submit{outline:none;display:block;background:#3bc8f5;border:none;color:#fff;border-radius:2px;padding:10px;width:100%;font-weight:700;font-size:14px;cursor:pointer;transition:background var(--bx-helper-transition-speed) ease-in-out 0s}.go-to-iblock-entity-popup-submit:hover{background:#3eddff}.go-to-iblock-entity-popup-submit:active{background:#12b1e3}.go-to-iblock-entity-popup-submit:disabled{background:#868d95}.go-to-iblock-entity-popup .entity-selector{border:0;padding:0;margin:0 0 10px}.go-to-iblock-entity-popup .entity-selector legend{position:relative;display:block;font-size:inherit;font-weight:700;margin-bottom:.5em;padding:0;width:100%}.go-to-iblock-entity-popup .entity-selector legend .close-btn{position:absolute;right:0;cursor:pointer;width:16px;height:16px}.go-to-iblock-entity-popup .entity-selector-group{display:inline-block}.go-to-iblock-entity-popup .entity-selector-item{display:inline-block;position:relative}.go-to-iblock-entity-popup .entity-selector input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:2px solid;height:100%;left:0;opacity:.00001;position:absolute;top:0;width:100%;z-index:2}.go-to-iblock-entity-popup .entity-selector-item label{border-radius:2em;border:2px solid transparent;color:#3f4b54;display:block;padding:.25em .75em}.go-to-iblock-entity-popup .entity-selector-item input:hover~label,.go-to-iblock-entity-popup .entity-selector-item label:hover{background:#e2ebed}.go-to-iblock-entity-popup .entity-selector[disabled] .entity-selector-item input:checked+label:hover,.go-to-iblock-entity-popup .entity-selector-item input:checked+label{background:#3bc8f5;color:#fff}.go-to-iblock-entity-popup .entity-selector-item label:after{border:2px solid;border-color:#0000;border-radius:2em;bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:bottom .2s ease-in-out,border-color .2s ease-in-out,left .2s ease-in-out,right .2s ease-in-out,top .2s ease-in-out}.go-to-iblock-entity-popup .entity-selector-item input:focus~label:after{border-color:#3bc8f5;bottom:-.24em;left:-.25em;right:-.25em;top:-.25em}.go-to-iblock-entity-popup .entity-selector[disabled],.go-to-iblock-entity-popup .entity-selector-item input[disabled]+label{opacity:.5}.go-to-iblock-entity-popup .entity-selector-item input[disabled]~label,.go-to-iblock-entity-popup .entity-selector-item input[disabled]~label:hover,.go-to-iblock-entity-popup .entity-selector[disabled] label:hover{background:transparent;border-color:transparent;cursor:not-allowed}.go-to-iblock-entity-popup .main-ui-control{position:relative;padding:0 10px;height:38px;width:100%;border:1px solid rgba(83,92,105,.2);border-radius:var(--main-ui-control-border-radius, var(--ui-border-radius-2xs, 2px));background:#fff;font:15px var(--ui-font-family-primary, var(--ui-font-family-helvetica));-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;outline:none}.go-to-iblock-entity-popup .recent ul{padding:0}.go-to-iblock-entity-popup .recent ul li{list-style:none;margin-bottom:5px;padding:10px;background:#f5f5f5;border-radius:4px;cursor:pointer}.go-to-iblock-entity-popup .recent ul li:hover{background:#3bc8f5;color:#fff}.toastify{font-size:18px}.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}/*!
* Toastify js 1.12.0
* https://github.com/apvarun/toastify-js
* @license MIT licensed
*
* Copyright (C) 2018 Varun A P
*/.toastify{padding:12px 20px;color:#fff;display:inline-block;box-shadow:0 3px 6px -1px #0000001f,0 10px 36px -4px #4d60e84d;background:-webkit-linear-gradient(315deg,#73a5ff,#5477f5);background:linear-gradient(135deg,#73a5ff,#5477f5);position:fixed;opacity:0;transition:all .4s cubic-bezier(.215,.61,.355,1);border-radius:2px;cursor:pointer;text-decoration:none;max-width:calc(50% - 20px);z-index:2147483647}.toastify.on{opacity:1}.toast-close{background:transparent;border:0;color:#fff;cursor:pointer;font-family:inherit;font-size:1em;opacity:.4;padding:0 5px}.toastify-right{right:15px}.toastify-left{left:15px}.toastify-top{top:-150px}.toastify-bottom{bottom:-150px}.toastify-rounded{border-radius:25px}.toastify-avatar{width:1.5em;height:1.5em;margin:-7px 5px;border-radius:2px}.toastify-center{margin-left:auto;margin-right:auto;left:0;right:0;max-width:fit-content;max-width:-moz-fit-content}@media only screen and (max-width: 360px){.toastify-right,.toastify-left{margin-left:auto;margin-right:auto;left:0;right:0;max-width:fit-content}} `);

(function () {
    'use strict';

    var Qr=Object.defineProperty;var tn=(t,r,i)=>r in t?Qr(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;var $=(t,r,i)=>(tn(t,typeof r!="symbol"?r+"":r,i),i);var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var br={},be={};be.byteLength=an;be.toByteArray=un;be.fromByteArray=fn;var At=[],dt=[],nn=typeof Uint8Array<"u"?Uint8Array:Array,Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Gt=0,on=Ae.length;Gt<on;++Gt)At[Gt]=Ae[Gt],dt[Ae.charCodeAt(Gt)]=Gt;dt["-".charCodeAt(0)]=62;dt["_".charCodeAt(0)]=63;function wr(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");i===-1&&(i=r);var a=i===r?0:4-i%4;return [i,a]}function an(t){var r=wr(t),i=r[0],a=r[1];return (i+a)*3/4-a}function sn(t,r,i){return (r+i)*3/4-i}function un(t){var r,i=wr(t),a=i[0],s=i[1],f=new nn(sn(t,a,s)),l=0,u=s>0?a-4:a,h;for(h=0;h<u;h+=4)r=dt[t.charCodeAt(h)]<<18|dt[t.charCodeAt(h+1)]<<12|dt[t.charCodeAt(h+2)]<<6|dt[t.charCodeAt(h+3)],f[l++]=r>>16&255,f[l++]=r>>8&255,f[l++]=r&255;return s===2&&(r=dt[t.charCodeAt(h)]<<2|dt[t.charCodeAt(h+1)]>>4,f[l++]=r&255),s===1&&(r=dt[t.charCodeAt(h)]<<10|dt[t.charCodeAt(h+1)]<<4|dt[t.charCodeAt(h+2)]>>2,f[l++]=r>>8&255,f[l++]=r&255),f}function cn(t){return At[t>>18&63]+At[t>>12&63]+At[t>>6&63]+At[t&63]}function ln(t,r,i){for(var a,s=[],f=r;f<i;f+=3)a=(t[f]<<16&16711680)+(t[f+1]<<8&65280)+(t[f+2]&255),s.push(cn(a));return s.join("")}function fn(t){for(var r,i=t.length,a=i%3,s=[],f=16383,l=0,u=i-a;l<u;l+=f)s.push(ln(t,l,l+f>u?u:l+f));return a===1?(r=t[i-1],s.push(At[r>>2]+At[r<<4&63]+"==")):a===2&&(r=(t[i-2]<<8)+t[i-1],s.push(At[r>>10]+At[r>>4&63]+At[r<<2&63]+"=")),s.join("")}var Re={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Re.read=function(t,r,i,a,s){var f,l,u=s*8-a-1,h=(1<<u)-1,b=h>>1,m=-7,x=i?s-1:0,I=i?-1:1,E=t[r+x];for(x+=I,f=E&(1<<-m)-1,E>>=-m,m+=u;m>0;f=f*256+t[r+x],x+=I,m-=8);for(l=f&(1<<-m)-1,f>>=-m,m+=a;m>0;l=l*256+t[r+x],x+=I,m-=8);if(f===0)f=1-b;else {if(f===h)return l?NaN:(E?-1:1)*(1/0);l=l+Math.pow(2,a),f=f-b;}return (E?-1:1)*l*Math.pow(2,f-a)};Re.write=function(t,r,i,a,s,f){var l,u,h,b=f*8-s-1,m=(1<<b)-1,x=m>>1,I=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=a?0:f-1,S=a?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,l=m):(l=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+x>=1?r+=I/h:r+=I*Math.pow(2,1-x),r*h>=2&&(l++,h/=2),l+x>=m?(u=0,l=m):l+x>=1?(u=(r*h-1)*Math.pow(2,s),l=l+x):(u=r*Math.pow(2,x-1)*Math.pow(2,s),l=0));s>=8;t[i+E]=u&255,E+=S,u/=256,s-=8);for(l=l<<s|u,b+=s;b>0;t[i+E]=l&255,E+=S,l/=256,b-=8);t[i+E-S]|=T*128;};/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     */(function(t){const r=be,i=Re,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=P,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=f(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const o=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(o,e),o.foo()===42}catch{return !1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(o){if(o>s)throw new RangeError('The value "'+o+'" is invalid for option "size"');const e=new Uint8Array(o);return Object.setPrototypeOf(e,u.prototype),e}function u(o,e,n){if(typeof o=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(o)}return h(o,e,n)}u.poolSize=8192;function h(o,e,n){if(typeof o=="string")return I(o,e);if(ArrayBuffer.isView(o))return S(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(J(o,ArrayBuffer)||o&&J(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(J(o,SharedArrayBuffer)||o&&J(o.buffer,SharedArrayBuffer)))return T(o,e,n);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const c=o.valueOf&&o.valueOf();if(c!=null&&c!==o)return u.from(c,e,n);const p=O(o);if(p)return p;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return u.from(o[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}u.from=function(o,e,n){return h(o,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function b(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function m(o,e,n){return b(o),o<=0?l(o):e!==void 0?typeof n=="string"?l(o).fill(e,n):l(o).fill(e):l(o)}u.alloc=function(o,e,n){return m(o,e,n)};function x(o){return b(o),l(o<0?0:_(o)|0)}u.allocUnsafe=function(o){return x(o)},u.allocUnsafeSlow=function(o){return x(o)};function I(o,e){if((typeof e!="string"||e==="")&&(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=F(o,e)|0;let c=l(n);const p=c.write(o,e);return p!==n&&(c=c.slice(0,p)),c}function E(o){const e=o.length<0?0:_(o.length)|0,n=l(e);for(let c=0;c<e;c+=1)n[c]=o[c]&255;return n}function S(o){if(J(o,Uint8Array)){const e=new Uint8Array(o);return T(e.buffer,e.byteOffset,e.byteLength)}return E(o)}function T(o,e,n){if(e<0||o.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let c;return e===void 0&&n===void 0?c=new Uint8Array(o):n===void 0?c=new Uint8Array(o,e):c=new Uint8Array(o,e,n),Object.setPrototypeOf(c,u.prototype),c}function O(o){if(u.isBuffer(o)){const e=_(o.length)|0,n=l(e);return n.length===0||o.copy(n,0,0,e),n}if(o.length!==void 0)return typeof o.length!="number"||gt(o.length)?l(0):E(o);if(o.type==="Buffer"&&Array.isArray(o.data))return E(o.data)}function _(o){if(o>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return o|0}function P(o){return +o!=o&&(o=0),u.alloc(+o)}u.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==u.prototype},u.compare=function(e,n){if(J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),J(n,Uint8Array)&&(n=u.from(n,n.offset,n.byteLength)),!u.isBuffer(e)||!u.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;let c=e.length,p=n.length;for(let v=0,g=Math.min(c,p);v<g;++v)if(e[v]!==n[v]){c=e[v],p=n[v];break}return c<p?-1:p<c?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},u.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return u.alloc(0);let c;if(n===void 0)for(n=0,c=0;c<e.length;++c)n+=e[c].length;const p=u.allocUnsafe(n);let v=0;for(c=0;c<e.length;++c){let g=e[c];if(J(g,Uint8Array))v+g.length>p.length?(u.isBuffer(g)||(g=u.from(g)),g.copy(p,v)):Uint8Array.prototype.set.call(p,g,v);else if(u.isBuffer(g))g.copy(p,v);else throw new TypeError('"list" argument must be an Array of Buffers');v+=g.length;}return p};function F(o,e){if(u.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||J(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);const n=o.length,c=arguments.length>2&&arguments[2]===!0;if(!c&&n===0)return 0;let p=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Ot(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return ft(o).length;default:if(p)return c?-1:Ot(o).length;e=(""+e).toLowerCase(),p=!0;}}u.byteLength=F;function d(o,e,n){let c=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,e>>>=0,n<=e))return "";for(o||(o="utf8");;)switch(o){case"hex":return at(this,e,n);case"utf8":case"utf-8":return Y(this,e,n);case"ascii":return G(this,e,n);case"latin1":case"binary":return W(this,e,n);case"base64":return U(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,e,n);default:if(c)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),c=!0;}}u.prototype._isBuffer=!0;function L(o,e,n){const c=o[e];o[e]=o[n],o[n]=c;}u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<e;n+=2)L(this,n,n+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<e;n+=4)L(this,n,n+3),L(this,n+1,n+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<e;n+=8)L(this,n,n+7),L(this,n+1,n+6),L(this,n+2,n+5),L(this,n+3,n+4);return this},u.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?Y(this,0,e):d.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:u.compare(this,e)===0},u.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(e,n,c,p,v){if(J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(n===void 0&&(n=0),c===void 0&&(c=e?e.length:0),p===void 0&&(p=0),v===void 0&&(v=this.length),n<0||c>e.length||p<0||v>this.length)throw new RangeError("out of range index");if(p>=v&&n>=c)return 0;if(p>=v)return -1;if(n>=c)return 1;if(n>>>=0,c>>>=0,p>>>=0,v>>>=0,this===e)return 0;let g=v-p,y=c-n;const w=Math.min(g,y),B=this.slice(p,v),k=e.slice(n,c);for(let C=0;C<w;++C)if(B[C]!==k[C]){g=B[C],y=k[C];break}return g<y?-1:y<g?1:0};function A(o,e,n,c,p){if(o.length===0)return -1;if(typeof n=="string"?(c=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,gt(n)&&(n=p?0:o.length-1),n<0&&(n=o.length+n),n>=o.length){if(p)return -1;n=o.length-1;}else if(n<0)if(p)n=0;else return -1;if(typeof e=="string"&&(e=u.from(e,c)),u.isBuffer(e))return e.length===0?-1:D(o,e,n,c,p);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(o,e,n):Uint8Array.prototype.lastIndexOf.call(o,e,n):D(o,[e],n,c,p);throw new TypeError("val must be string, number or Buffer")}function D(o,e,n,c,p){let v=1,g=o.length,y=e.length;if(c!==void 0&&(c=String(c).toLowerCase(),c==="ucs2"||c==="ucs-2"||c==="utf16le"||c==="utf-16le")){if(o.length<2||e.length<2)return -1;v=2,g/=2,y/=2,n/=2;}function w(k,C){return v===1?k[C]:k.readUInt16BE(C*v)}let B;if(p){let k=-1;for(B=n;B<g;B++)if(w(o,B)===w(e,k===-1?0:B-k)){if(k===-1&&(k=B),B-k+1===y)return k*v}else k!==-1&&(B-=B-k),k=-1;}else for(n+y>g&&(n=g-y),B=n;B>=0;B--){let k=!0;for(let C=0;C<y;C++)if(w(o,B+C)!==w(e,C)){k=!1;break}if(k)return B}return -1}u.prototype.includes=function(e,n,c){return this.indexOf(e,n,c)!==-1},u.prototype.indexOf=function(e,n,c){return A(this,e,n,c,!0)},u.prototype.lastIndexOf=function(e,n,c){return A(this,e,n,c,!1)};function H(o,e,n,c){n=Number(n)||0;const p=o.length-n;c?(c=Number(c),c>p&&(c=p)):c=p;const v=e.length;c>v/2&&(c=v/2);let g;for(g=0;g<c;++g){const y=parseInt(e.substr(g*2,2),16);if(gt(y))return g;o[n+g]=y;}return g}function V(o,e,n,c){return nt(Ot(e,o.length-n),o,n,c)}function N(o,e,n,c){return nt(Vt(e),o,n,c)}function q(o,e,n,c){return nt(ft(e),o,n,c)}function j(o,e,n,c){return nt(Ht(e,o.length-n),o,n,c)}u.prototype.write=function(e,n,c,p){if(n===void 0)p="utf8",c=this.length,n=0;else if(c===void 0&&typeof n=="string")p=n,c=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(c)?(c=c>>>0,p===void 0&&(p="utf8")):(p=c,c=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const v=this.length-n;if((c===void 0||c>v)&&(c=v),e.length>0&&(c<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");let g=!1;for(;;)switch(p){case"hex":return H(this,e,n,c);case"utf8":case"utf-8":return V(this,e,n,c);case"ascii":case"latin1":case"binary":return N(this,e,n,c);case"base64":return q(this,e,n,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,n,c);default:if(g)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),g=!0;}},u.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(o,e,n){return e===0&&n===o.length?r.fromByteArray(o):r.fromByteArray(o.slice(e,n))}function Y(o,e,n){n=Math.min(o.length,n);const c=[];let p=e;for(;p<n;){const v=o[p];let g=null,y=v>239?4:v>223?3:v>191?2:1;if(p+y<=n){let w,B,k,C;switch(y){case 1:v<128&&(g=v);break;case 2:w=o[p+1],(w&192)===128&&(C=(v&31)<<6|w&63,C>127&&(g=C));break;case 3:w=o[p+1],B=o[p+2],(w&192)===128&&(B&192)===128&&(C=(v&15)<<12|(w&63)<<6|B&63,C>2047&&(C<55296||C>57343)&&(g=C));break;case 4:w=o[p+1],B=o[p+2],k=o[p+3],(w&192)===128&&(B&192)===128&&(k&192)===128&&(C=(v&15)<<18|(w&63)<<12|(B&63)<<6|k&63,C>65535&&C<1114112&&(g=C));}}g===null?(g=65533,y=1):g>65535&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023),c.push(g),p+=y;}return z(c)}const X=4096;function z(o){const e=o.length;if(e<=X)return String.fromCharCode.apply(String,o);let n="",c=0;for(;c<e;)n+=String.fromCharCode.apply(String,o.slice(c,c+=X));return n}function G(o,e,n){let c="";n=Math.min(o.length,n);for(let p=e;p<n;++p)c+=String.fromCharCode(o[p]&127);return c}function W(o,e,n){let c="";n=Math.min(o.length,n);for(let p=e;p<n;++p)c+=String.fromCharCode(o[p]);return c}function at(o,e,n){const c=o.length;(!e||e<0)&&(e=0),(!n||n<0||n>c)&&(n=c);let p="";for(let v=e;v<n;++v)p+=Dt[o[v]];return p}function st(o,e,n){const c=o.slice(e,n);let p="";for(let v=0;v<c.length-1;v+=2)p+=String.fromCharCode(c[v]+c[v+1]*256);return p}u.prototype.slice=function(e,n){const c=this.length;e=~~e,n=n===void 0?c:~~n,e<0?(e+=c,e<0&&(e=0)):e>c&&(e=c),n<0?(n+=c,n<0&&(n=0)):n>c&&(n=c),n<e&&(n=e);const p=this.subarray(e,n);return Object.setPrototypeOf(p,u.prototype),p};function M(o,e,n){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+e>n)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(e,n,c){e=e>>>0,n=n>>>0,c||M(e,n,this.length);let p=this[e],v=1,g=0;for(;++g<n&&(v*=256);)p+=this[e+g]*v;return p},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,n,c){e=e>>>0,n=n>>>0,c||M(e,n,this.length);let p=this[e+--n],v=1;for(;n>0&&(v*=256);)p+=this[e+--n]*v;return p},u.prototype.readUint8=u.prototype.readUInt8=function(e,n){return e=e>>>0,n||M(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,n){return e=e>>>0,n||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,n){return e=e>>>0,n||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,n){return e=e>>>0,n||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,n){return e=e>>>0,n||M(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=it(function(e){e=e>>>0,lt(e,"offset");const n=this[e],c=this[e+7];(n===void 0||c===void 0)&&Bt(e,this.length-8);const p=n+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,v=this[++e]+this[++e]*2**8+this[++e]*2**16+c*2**24;return BigInt(p)+(BigInt(v)<<BigInt(32))}),u.prototype.readBigUInt64BE=it(function(e){e=e>>>0,lt(e,"offset");const n=this[e],c=this[e+7];(n===void 0||c===void 0)&&Bt(e,this.length-8);const p=n*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],v=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+c;return (BigInt(p)<<BigInt(32))+BigInt(v)}),u.prototype.readIntLE=function(e,n,c){e=e>>>0,n=n>>>0,c||M(e,n,this.length);let p=this[e],v=1,g=0;for(;++g<n&&(v*=256);)p+=this[e+g]*v;return v*=128,p>=v&&(p-=Math.pow(2,8*n)),p},u.prototype.readIntBE=function(e,n,c){e=e>>>0,n=n>>>0,c||M(e,n,this.length);let p=n,v=1,g=this[e+--p];for(;p>0&&(v*=256);)g+=this[e+--p]*v;return v*=128,g>=v&&(g-=Math.pow(2,8*n)),g},u.prototype.readInt8=function(e,n){return e=e>>>0,n||M(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},u.prototype.readInt16LE=function(e,n){e=e>>>0,n||M(e,2,this.length);const c=this[e]|this[e+1]<<8;return c&32768?c|4294901760:c},u.prototype.readInt16BE=function(e,n){e=e>>>0,n||M(e,2,this.length);const c=this[e+1]|this[e]<<8;return c&32768?c|4294901760:c},u.prototype.readInt32LE=function(e,n){return e=e>>>0,n||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,n){return e=e>>>0,n||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=it(function(e){e=e>>>0,lt(e,"offset");const n=this[e],c=this[e+7];(n===void 0||c===void 0)&&Bt(e,this.length-8);const p=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(c<<24);return (BigInt(p)<<BigInt(32))+BigInt(n+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),u.prototype.readBigInt64BE=it(function(e){e=e>>>0,lt(e,"offset");const n=this[e],c=this[e+7];(n===void 0||c===void 0)&&Bt(e,this.length-8);const p=(n<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return (BigInt(p)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+c)}),u.prototype.readFloatLE=function(e,n){return e=e>>>0,n||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,n){return e=e>>>0,n||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,n){return e=e>>>0,n||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,n){return e=e>>>0,n||M(e,8,this.length),i.read(this,e,!1,52,8)};function R(o,e,n,c,p,v){if(!u.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>p||e<v)throw new RangeError('"value" argument is out of bounds');if(n+c>o.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,n,c,p){if(e=+e,n=n>>>0,c=c>>>0,!p){const y=Math.pow(2,8*c)-1;R(this,e,n,c,y,0);}let v=1,g=0;for(this[n]=e&255;++g<c&&(v*=256);)this[n+g]=e/v&255;return n+c},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,n,c,p){if(e=+e,n=n>>>0,c=c>>>0,!p){const y=Math.pow(2,8*c)-1;R(this,e,n,c,y,0);}let v=c-1,g=1;for(this[n+v]=e&255;--v>=0&&(g*=256);)this[n+v]=e/g&255;return n+c},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,1,255,0),this[n]=e&255,n+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,2,65535,0),this[n]=e&255,this[n+1]=e>>>8,n+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=e&255,n+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e&255,n+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4};function xt(o,e,n,c,p){Pt(e,c,p,o,n,7);let v=Number(e&BigInt(4294967295));o[n++]=v,v=v>>8,o[n++]=v,v=v>>8,o[n++]=v,v=v>>8,o[n++]=v;let g=Number(e>>BigInt(32)&BigInt(4294967295));return o[n++]=g,g=g>>8,o[n++]=g,g=g>>8,o[n++]=g,g=g>>8,o[n++]=g,n}function ut(o,e,n,c,p){Pt(e,c,p,o,n,7);let v=Number(e&BigInt(4294967295));o[n+7]=v,v=v>>8,o[n+6]=v,v=v>>8,o[n+5]=v,v=v>>8,o[n+4]=v;let g=Number(e>>BigInt(32)&BigInt(4294967295));return o[n+3]=g,g=g>>8,o[n+2]=g,g=g>>8,o[n+1]=g,g=g>>8,o[n]=g,n+8}u.prototype.writeBigUInt64LE=it(function(e,n=0){return xt(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=it(function(e,n=0){return ut(this,e,n,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(e,n,c,p){if(e=+e,n=n>>>0,!p){const w=Math.pow(2,8*c-1);R(this,e,n,c,w-1,-w);}let v=0,g=1,y=0;for(this[n]=e&255;++v<c&&(g*=256);)e<0&&y===0&&this[n+v-1]!==0&&(y=1),this[n+v]=(e/g>>0)-y&255;return n+c},u.prototype.writeIntBE=function(e,n,c,p){if(e=+e,n=n>>>0,!p){const w=Math.pow(2,8*c-1);R(this,e,n,c,w-1,-w);}let v=c-1,g=1,y=0;for(this[n+v]=e&255;--v>=0&&(g*=256);)e<0&&y===0&&this[n+v+1]!==0&&(y=1),this[n+v]=(e/g>>0)-y&255;return n+c},u.prototype.writeInt8=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=e&255,n+1},u.prototype.writeInt16LE=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,2,32767,-32768),this[n]=e&255,this[n+1]=e>>>8,n+2},u.prototype.writeInt16BE=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=e&255,n+2},u.prototype.writeInt32LE=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,4,2147483647,-2147483648),this[n]=e&255,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4},u.prototype.writeInt32BE=function(e,n,c){return e=+e,n=n>>>0,c||R(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e&255,n+4},u.prototype.writeBigInt64LE=it(function(e,n=0){return xt(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=it(function(e,n=0){return ut(this,e,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Q(o,e,n,c,p,v){if(n+c>o.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function ct(o,e,n,c,p){return e=+e,n=n>>>0,p||Q(o,e,n,4),i.write(o,e,n,c,23,4),n+4}u.prototype.writeFloatLE=function(e,n,c){return ct(this,e,n,!0,c)},u.prototype.writeFloatBE=function(e,n,c){return ct(this,e,n,!1,c)};function It(o,e,n,c,p){return e=+e,n=n>>>0,p||Q(o,e,n,8),i.write(o,e,n,c,52,8),n+8}u.prototype.writeDoubleLE=function(e,n,c){return It(this,e,n,!0,c)},u.prototype.writeDoubleBE=function(e,n,c){return It(this,e,n,!1,c)},u.prototype.copy=function(e,n,c,p){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(c||(c=0),!p&&p!==0&&(p=this.length),n>=e.length&&(n=e.length),n||(n=0),p>0&&p<c&&(p=c),p===c||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),e.length-n<p-c&&(p=e.length-n+c);const v=p-c;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,c,p):Uint8Array.prototype.set.call(e,this.subarray(c,p),n),v},u.prototype.fill=function(e,n,c,p){if(typeof e=="string"){if(typeof n=="string"?(p=n,n=0,c=this.length):typeof c=="string"&&(p=c,c=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!u.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(e.length===1){const g=e.charCodeAt(0);(p==="utf8"&&g<128||p==="latin1")&&(e=g);}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(n<0||this.length<n||this.length<c)throw new RangeError("Out of range index");if(c<=n)return this;n=n>>>0,c=c===void 0?this.length:c>>>0,e||(e=0);let v;if(typeof e=="number")for(v=n;v<c;++v)this[v]=e;else {const g=u.isBuffer(e)?e:u.from(e,p),y=g.length;if(y===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(v=0;v<c-n;++v)this[v+n]=g[v%y];}return this};const K={};function Et(o,e,n){K[o]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name;}get code(){return o}set code(p){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:p,writable:!0});}toString(){return `${this.name} [${o}]: ${this.message}`}};}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(o,e){return `The "${o}" argument must be of type number. Received type ${typeof e}`},TypeError),Et("ERR_OUT_OF_RANGE",function(o,e,n){let c=`The value of "${o}" is out of range.`,p=n;return Number.isInteger(n)&&Math.abs(n)>2**32?p=mt(String(n)):typeof n=="bigint"&&(p=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(p=mt(p)),p+="n"),c+=` It must be ${e}. Received ${p}`,c},RangeError);function mt(o){let e="",n=o.length;const c=o[0]==="-"?1:0;for(;n>=c+4;n-=3)e=`_${o.slice(n-3,n)}${e}`;return `${o.slice(0,n)}${e}`}function Lt(o,e,n){lt(e,"offset"),(o[e]===void 0||o[e+n]===void 0)&&Bt(e,o.length-(n+1));}function Pt(o,e,n,c,p,v){if(o>n||o<e){const g=typeof e=="bigint"?"n":"";let y;throw v>3?e===0||e===BigInt(0)?y=`>= 0${g} and < 2${g} ** ${(v+1)*8}${g}`:y=`>= -(2${g} ** ${(v+1)*8-1}${g}) and < 2 ** ${(v+1)*8-1}${g}`:y=`>= ${e}${g} and <= ${n}${g}`,new K.ERR_OUT_OF_RANGE("value",y,o)}Lt(c,p,v);}function lt(o,e){if(typeof o!="number")throw new K.ERR_INVALID_ARG_TYPE(e,"number",o)}function Bt(o,e,n){throw Math.floor(o)!==o?(lt(o,n),new K.ERR_OUT_OF_RANGE(n||"offset","an integer",o)):e<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,o)}const jt=/[^+/0-9A-Za-z-_]/g;function Ft(o){if(o=o.split("=")[0],o=o.trim().replace(jt,""),o.length<2)return "";for(;o.length%4!==0;)o=o+"=";return o}function Ot(o,e){e=e||1/0;let n;const c=o.length;let p=null;const v=[];for(let g=0;g<c;++g){if(n=o.charCodeAt(g),n>55295&&n<57344){if(!p){if(n>56319){(e-=3)>-1&&v.push(239,191,189);continue}else if(g+1===c){(e-=3)>-1&&v.push(239,191,189);continue}p=n;continue}if(n<56320){(e-=3)>-1&&v.push(239,191,189),p=n;continue}n=(p-55296<<10|n-56320)+65536;}else p&&(e-=3)>-1&&v.push(239,191,189);if(p=null,n<128){if((e-=1)<0)break;v.push(n);}else if(n<2048){if((e-=2)<0)break;v.push(n>>6|192,n&63|128);}else if(n<65536){if((e-=3)<0)break;v.push(n>>12|224,n>>6&63|128,n&63|128);}else if(n<1114112){if((e-=4)<0)break;v.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128);}else throw new Error("Invalid code point")}return v}function Vt(o){const e=[];for(let n=0;n<o.length;++n)e.push(o.charCodeAt(n)&255);return e}function Ht(o,e){let n,c,p;const v=[];for(let g=0;g<o.length&&!((e-=2)<0);++g)n=o.charCodeAt(g),c=n>>8,p=n%256,v.push(p),v.push(c);return v}function ft(o){return r.toByteArray(Ft(o))}function nt(o,e,n,c){let p;for(p=0;p<c&&!(p+n>=e.length||p>=o.length);++p)e[p+n]=o[p];return p}function J(o,e){return o instanceof e||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===e.name}function gt(o){return o!==o}const Dt=function(){const o="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const c=n*16;for(let p=0;p<16;++p)e[c+p]=o[n]+o[p];}return e}();function it(o){return typeof BigInt>"u"?qt:o}function qt(){throw new Error("BigInt not supported")}})(br);var et="top",yt="bottom",vt="right",rt="left",Ne="auto",se=[et,yt,vt,rt],Xt="start",ne="end",pn="clippingParents",xr="viewport",Qt="popper",dn="reference",Je=se.reduce(function(t,r){return t.concat([r+"-"+Xt,r+"-"+ne])},[]),Er=[].concat(se,[Ne]).reduce(function(t,r){return t.concat([r,r+"-"+Xt,r+"-"+ne])},[]),hn="beforeRead",yn="read",vn="afterRead",mn="beforeMain",gn="main",bn="afterMain",wn="beforeWrite",xn="write",En="afterWrite",Bn=[hn,yn,vn,mn,gn,bn,wn,xn,En];function Ct(t){return t?(t.nodeName||"").toLowerCase():null}function ot(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var r=t.ownerDocument;return r&&r.defaultView||window}return t}function Nt(t){var r=ot(t).Element;return t instanceof r||t instanceof Element}function ht(t){var r=ot(t).HTMLElement;return t instanceof r||t instanceof HTMLElement}function je(t){if(typeof ShadowRoot>"u")return !1;var r=ot(t).ShadowRoot;return t instanceof r||t instanceof ShadowRoot}function Tn(t){var r=t.state;Object.keys(r.elements).forEach(function(i){var a=r.styles[i]||{},s=r.attributes[i]||{},f=r.elements[i];!ht(f)||!Ct(f)||(Object.assign(f.style,a),Object.keys(s).forEach(function(l){var u=s[l];u===!1?f.removeAttribute(l):f.setAttribute(l,u===!0?"":u);}));});}function An(t){var r=t.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow),function(){Object.keys(r.elements).forEach(function(a){var s=r.elements[a],f=r.attributes[a]||{},l=Object.keys(r.styles.hasOwnProperty(a)?r.styles[a]:i[a]),u=l.reduce(function(h,b){return h[b]="",h},{});!ht(s)||!Ct(s)||(Object.assign(s.style,u),Object.keys(f).forEach(function(h){s.removeAttribute(h);}));});}}const Br={name:"applyStyles",enabled:!0,phase:"write",fn:Tn,effect:An,requires:["computeStyles"]};function St(t){return t.split("-")[0]}var Rt=Math.max,me=Math.min,Kt=Math.round;function ke(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function Tr(){return !/^((?!chrome|android).)*safari/i.test(ke())}function Jt(t,r,i){r===void 0&&(r=!1),i===void 0&&(i=!1);var a=t.getBoundingClientRect(),s=1,f=1;r&&ht(t)&&(s=t.offsetWidth>0&&Kt(a.width)/t.offsetWidth||1,f=t.offsetHeight>0&&Kt(a.height)/t.offsetHeight||1);var l=Nt(t)?ot(t):window,u=l.visualViewport,h=!Tr()&&i,b=(a.left+(h&&u?u.offsetLeft:0))/s,m=(a.top+(h&&u?u.offsetTop:0))/f,x=a.width/s,I=a.height/f;return {width:x,height:I,top:m,right:b+x,bottom:m+I,left:b,x:b,y:m}}function Ve(t){var r=Jt(t),i=t.offsetWidth,a=t.offsetHeight;return Math.abs(r.width-i)<=1&&(i=r.width),Math.abs(r.height-a)<=1&&(a=r.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:a}}function Ar(t,r){var i=r.getRootNode&&r.getRootNode();if(t.contains(r))return !0;if(i&&je(i)){var a=r;do{if(a&&t.isSameNode(a))return !0;a=a.parentNode||a.host;}while(a)}return !1}function kt(t){return ot(t).getComputedStyle(t)}function Sn(t){return ["table","td","th"].indexOf(Ct(t))>=0}function _t(t){return ((Nt(t)?t.ownerDocument:t.document)||window.document).documentElement}function we(t){return Ct(t)==="html"?t:t.assignedSlot||t.parentNode||(je(t)?t.host:null)||_t(t)}function Ze(t){return !ht(t)||kt(t).position==="fixed"?null:t.offsetParent}function Cn(t){var r=/firefox/i.test(ke()),i=/Trident/i.test(ke());if(i&&ht(t)){var a=kt(t);if(a.position==="fixed")return null}var s=we(t);for(je(s)&&(s=s.host);ht(s)&&["html","body"].indexOf(Ct(s))<0;){var f=kt(s);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||r&&f.willChange==="filter"||r&&f.filter&&f.filter!=="none")return s;s=s.parentNode;}return null}function ue(t){for(var r=ot(t),i=Ze(t);i&&Sn(i)&&kt(i).position==="static";)i=Ze(i);return i&&(Ct(i)==="html"||Ct(i)==="body"&&kt(i).position==="static")?r:i||Cn(t)||r}function He(t){return ["top","bottom"].indexOf(t)>=0?"x":"y"}function te(t,r,i){return Rt(t,me(r,i))}function In(t,r,i){var a=te(t,r,i);return a>i?i:a}function Sr(){return {top:0,right:0,bottom:0,left:0}}function Cr(t){return Object.assign({},Sr(),t)}function Ir(t,r){return r.reduce(function(i,a){return i[a]=t,i},{})}var On=function(r,i){return r=typeof r=="function"?r(Object.assign({},i.rects,{placement:i.placement})):r,Cr(typeof r!="number"?r:Ir(r,se))};function kn(t){var r,i=t.state,a=t.name,s=t.options,f=i.elements.arrow,l=i.modifiersData.popperOffsets,u=St(i.placement),h=He(u),b=[rt,vt].indexOf(u)>=0,m=b?"height":"width";if(!(!f||!l)){var x=On(s.padding,i),I=Ve(f),E=h==="y"?et:rt,S=h==="y"?yt:vt,T=i.rects.reference[m]+i.rects.reference[h]-l[h]-i.rects.popper[m],O=l[h]-i.rects.reference[h],_=ue(f),P=_?h==="y"?_.clientHeight||0:_.clientWidth||0:0,F=T/2-O/2,d=x[E],L=P-I[m]-x[S],A=P/2-I[m]/2+F,D=te(d,A,L),H=h;i.modifiersData[a]=(r={},r[H]=D,r.centerOffset=D-A,r);}}function Ln(t){var r=t.state,i=t.options,a=i.element,s=a===void 0?"[data-popper-arrow]":a;s!=null&&(typeof s=="string"&&(s=r.elements.popper.querySelector(s),!s)||Ar(r.elements.popper,s)&&(r.elements.arrow=s));}const _n={name:"arrow",enabled:!0,phase:"main",fn:kn,effect:Ln,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zt(t){return t.split("-")[1]}var Pn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Fn(t,r){var i=t.x,a=t.y,s=r.devicePixelRatio||1;return {x:Kt(i*s)/s||0,y:Kt(a*s)/s||0}}function Qe(t){var r,i=t.popper,a=t.popperRect,s=t.placement,f=t.variation,l=t.offsets,u=t.position,h=t.gpuAcceleration,b=t.adaptive,m=t.roundOffsets,x=t.isFixed,I=l.x,E=I===void 0?0:I,S=l.y,T=S===void 0?0:S,O=typeof m=="function"?m({x:E,y:T}):{x:E,y:T};E=O.x,T=O.y;var _=l.hasOwnProperty("x"),P=l.hasOwnProperty("y"),F=rt,d=et,L=window;if(b){var A=ue(i),D="clientHeight",H="clientWidth";if(A===ot(i)&&(A=_t(i),kt(A).position!=="static"&&u==="absolute"&&(D="scrollHeight",H="scrollWidth")),A=A,s===et||(s===rt||s===vt)&&f===ne){d=yt;var V=x&&A===L&&L.visualViewport?L.visualViewport.height:A[D];T-=V-a.height,T*=h?1:-1;}if(s===rt||(s===et||s===yt)&&f===ne){F=vt;var N=x&&A===L&&L.visualViewport?L.visualViewport.width:A[H];E-=N-a.width,E*=h?1:-1;}}var q=Object.assign({position:u},b&&Pn),j=m===!0?Fn({x:E,y:T},ot(i)):{x:E,y:T};if(E=j.x,T=j.y,h){var U;return Object.assign({},q,(U={},U[d]=P?"0":"",U[F]=_?"0":"",U.transform=(L.devicePixelRatio||1)<=1?"translate("+E+"px, "+T+"px)":"translate3d("+E+"px, "+T+"px, 0)",U))}return Object.assign({},q,(r={},r[d]=P?T+"px":"",r[F]=_?E+"px":"",r.transform="",r))}function Dn(t){var r=t.state,i=t.options,a=i.gpuAcceleration,s=a===void 0?!0:a,f=i.adaptive,l=f===void 0?!0:f,u=i.roundOffsets,h=u===void 0?!0:u,b={placement:St(r.placement),variation:Zt(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:s,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,Qe(Object.assign({},b,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:l,roundOffsets:h})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,Qe(Object.assign({},b,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement});}const Mn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dn,data:{}};var he={passive:!0};function $n(t){var r=t.state,i=t.instance,a=t.options,s=a.scroll,f=s===void 0?!0:s,l=a.resize,u=l===void 0?!0:l,h=ot(r.elements.popper),b=[].concat(r.scrollParents.reference,r.scrollParents.popper);return f&&b.forEach(function(m){m.addEventListener("scroll",i.update,he);}),u&&h.addEventListener("resize",i.update,he),function(){f&&b.forEach(function(m){m.removeEventListener("scroll",i.update,he);}),u&&h.removeEventListener("resize",i.update,he);}}const Un={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$n,data:{}};var Rn={left:"right",right:"left",bottom:"top",top:"bottom"};function ve(t){return t.replace(/left|right|bottom|top/g,function(r){return Rn[r]})}var Nn={start:"end",end:"start"};function tr(t){return t.replace(/start|end/g,function(r){return Nn[r]})}function qe(t){var r=ot(t),i=r.pageXOffset,a=r.pageYOffset;return {scrollLeft:i,scrollTop:a}}function We(t){return Jt(_t(t)).left+qe(t).scrollLeft}function jn(t,r){var i=ot(t),a=_t(t),s=i.visualViewport,f=a.clientWidth,l=a.clientHeight,u=0,h=0;if(s){f=s.width,l=s.height;var b=Tr();(b||!b&&r==="fixed")&&(u=s.offsetLeft,h=s.offsetTop);}return {width:f,height:l,x:u+We(t),y:h}}function Vn(t){var r,i=_t(t),a=qe(t),s=(r=t.ownerDocument)==null?void 0:r.body,f=Rt(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=Rt(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),u=-a.scrollLeft+We(t),h=-a.scrollTop;return kt(s||i).direction==="rtl"&&(u+=Rt(i.clientWidth,s?s.clientWidth:0)-f),{width:f,height:l,x:u,y:h}}function ze(t){var r=kt(t),i=r.overflow,a=r.overflowX,s=r.overflowY;return /auto|scroll|overlay|hidden/.test(i+s+a)}function Or(t){return ["html","body","#document"].indexOf(Ct(t))>=0?t.ownerDocument.body:ht(t)&&ze(t)?t:Or(we(t))}function ee(t,r){var i;r===void 0&&(r=[]);var a=Or(t),s=a===((i=t.ownerDocument)==null?void 0:i.body),f=ot(a),l=s?[f].concat(f.visualViewport||[],ze(a)?a:[]):a,u=r.concat(l);return s?u:u.concat(ee(we(l)))}function Le(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Hn(t,r){var i=Jt(t,!1,r==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function er(t,r,i){return r===xr?Le(jn(t,i)):Nt(r)?Hn(r,i):Le(Vn(_t(t)))}function qn(t){var r=ee(we(t)),i=["absolute","fixed"].indexOf(kt(t).position)>=0,a=i&&ht(t)?ue(t):t;return Nt(a)?r.filter(function(s){return Nt(s)&&Ar(s,a)&&Ct(s)!=="body"}):[]}function Wn(t,r,i,a){var s=r==="clippingParents"?qn(t):[].concat(r),f=[].concat(s,[i]),l=f[0],u=f.reduce(function(h,b){var m=er(t,b,a);return h.top=Rt(m.top,h.top),h.right=me(m.right,h.right),h.bottom=me(m.bottom,h.bottom),h.left=Rt(m.left,h.left),h},er(t,l,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function kr(t){var r=t.reference,i=t.element,a=t.placement,s=a?St(a):null,f=a?Zt(a):null,l=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,h;switch(s){case et:h={x:l,y:r.y-i.height};break;case yt:h={x:l,y:r.y+r.height};break;case vt:h={x:r.x+r.width,y:u};break;case rt:h={x:r.x-i.width,y:u};break;default:h={x:r.x,y:r.y};}var b=s?He(s):null;if(b!=null){var m=b==="y"?"height":"width";switch(f){case Xt:h[b]=h[b]-(r[m]/2-i[m]/2);break;case ne:h[b]=h[b]+(r[m]/2-i[m]/2);break}}return h}function ie(t,r){r===void 0&&(r={});var i=r,a=i.placement,s=a===void 0?t.placement:a,f=i.strategy,l=f===void 0?t.strategy:f,u=i.boundary,h=u===void 0?pn:u,b=i.rootBoundary,m=b===void 0?xr:b,x=i.elementContext,I=x===void 0?Qt:x,E=i.altBoundary,S=E===void 0?!1:E,T=i.padding,O=T===void 0?0:T,_=Cr(typeof O!="number"?O:Ir(O,se)),P=I===Qt?dn:Qt,F=t.rects.popper,d=t.elements[S?P:I],L=Wn(Nt(d)?d:d.contextElement||_t(t.elements.popper),h,m,l),A=Jt(t.elements.reference),D=kr({reference:A,element:F,strategy:"absolute",placement:s}),H=Le(Object.assign({},F,D)),V=I===Qt?H:A,N={top:L.top-V.top+_.top,bottom:V.bottom-L.bottom+_.bottom,left:L.left-V.left+_.left,right:V.right-L.right+_.right},q=t.modifiersData.offset;if(I===Qt&&q){var j=q[s];Object.keys(N).forEach(function(U){var Y=[vt,yt].indexOf(U)>=0?1:-1,X=[et,yt].indexOf(U)>=0?"y":"x";N[U]+=j[X]*Y;});}return N}function zn(t,r){r===void 0&&(r={});var i=r,a=i.placement,s=i.boundary,f=i.rootBoundary,l=i.padding,u=i.flipVariations,h=i.allowedAutoPlacements,b=h===void 0?Er:h,m=Zt(a),x=m?u?Je:Je.filter(function(S){return Zt(S)===m}):se,I=x.filter(function(S){return b.indexOf(S)>=0});I.length===0&&(I=x);var E=I.reduce(function(S,T){return S[T]=ie(t,{placement:T,boundary:s,rootBoundary:f,padding:l})[St(T)],S},{});return Object.keys(E).sort(function(S,T){return E[S]-E[T]})}function Gn(t){if(St(t)===Ne)return [];var r=ve(t);return [tr(t),r,tr(r)]}function Yn(t){var r=t.state,i=t.options,a=t.name;if(!r.modifiersData[a]._skip){for(var s=i.mainAxis,f=s===void 0?!0:s,l=i.altAxis,u=l===void 0?!0:l,h=i.fallbackPlacements,b=i.padding,m=i.boundary,x=i.rootBoundary,I=i.altBoundary,E=i.flipVariations,S=E===void 0?!0:E,T=i.allowedAutoPlacements,O=r.options.placement,_=St(O),P=_===O,F=h||(P||!S?[ve(O)]:Gn(O)),d=[O].concat(F).reduce(function(ut,Q){return ut.concat(St(Q)===Ne?zn(r,{placement:Q,boundary:m,rootBoundary:x,padding:b,flipVariations:S,allowedAutoPlacements:T}):Q)},[]),L=r.rects.reference,A=r.rects.popper,D=new Map,H=!0,V=d[0],N=0;N<d.length;N++){var q=d[N],j=St(q),U=Zt(q)===Xt,Y=[et,yt].indexOf(j)>=0,X=Y?"width":"height",z=ie(r,{placement:q,boundary:m,rootBoundary:x,altBoundary:I,padding:b}),G=Y?U?vt:rt:U?yt:et;L[X]>A[X]&&(G=ve(G));var W=ve(G),at=[];if(f&&at.push(z[j]<=0),u&&at.push(z[G]<=0,z[W]<=0),at.every(function(ut){return ut})){V=q,H=!1;break}D.set(q,at);}if(H)for(var st=S?3:1,M=function(Q){var ct=d.find(function(It){var K=D.get(It);if(K)return K.slice(0,Q).every(function(Et){return Et})});if(ct)return V=ct,"break"},R=st;R>0;R--){var xt=M(R);if(xt==="break")break}r.placement!==V&&(r.modifiersData[a]._skip=!0,r.placement=V,r.reset=!0);}}const Xn={name:"flip",enabled:!0,phase:"main",fn:Yn,requiresIfExists:["offset"],data:{_skip:!1}};function rr(t,r,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-r.height-i.y,right:t.right-r.width+i.x,bottom:t.bottom-r.height+i.y,left:t.left-r.width-i.x}}function nr(t){return [et,vt,yt,rt].some(function(r){return t[r]>=0})}function Kn(t){var r=t.state,i=t.name,a=r.rects.reference,s=r.rects.popper,f=r.modifiersData.preventOverflow,l=ie(r,{elementContext:"reference"}),u=ie(r,{altBoundary:!0}),h=rr(l,a),b=rr(u,s,f),m=nr(h),x=nr(b);r.modifiersData[i]={referenceClippingOffsets:h,popperEscapeOffsets:b,isReferenceHidden:m,hasPopperEscaped:x},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":x});}const Jn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Kn};function Zn(t,r,i){var a=St(t),s=[rt,et].indexOf(a)>=0?-1:1,f=typeof i=="function"?i(Object.assign({},r,{placement:t})):i,l=f[0],u=f[1];return l=l||0,u=(u||0)*s,[rt,vt].indexOf(a)>=0?{x:u,y:l}:{x:l,y:u}}function Qn(t){var r=t.state,i=t.options,a=t.name,s=i.offset,f=s===void 0?[0,0]:s,l=Er.reduce(function(m,x){return m[x]=Zn(x,r.rects,f),m},{}),u=l[r.placement],h=u.x,b=u.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=h,r.modifiersData.popperOffsets.y+=b),r.modifiersData[a]=l;}const ti={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qn};function ei(t){var r=t.state,i=t.name;r.modifiersData[i]=kr({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement});}const ri={name:"popperOffsets",enabled:!0,phase:"read",fn:ei,data:{}};function ni(t){return t==="x"?"y":"x"}function ii(t){var r=t.state,i=t.options,a=t.name,s=i.mainAxis,f=s===void 0?!0:s,l=i.altAxis,u=l===void 0?!1:l,h=i.boundary,b=i.rootBoundary,m=i.altBoundary,x=i.padding,I=i.tether,E=I===void 0?!0:I,S=i.tetherOffset,T=S===void 0?0:S,O=ie(r,{boundary:h,rootBoundary:b,padding:x,altBoundary:m}),_=St(r.placement),P=Zt(r.placement),F=!P,d=He(_),L=ni(d),A=r.modifiersData.popperOffsets,D=r.rects.reference,H=r.rects.popper,V=typeof T=="function"?T(Object.assign({},r.rects,{placement:r.placement})):T,N=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),q=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,j={x:0,y:0};if(A){if(f){var U,Y=d==="y"?et:rt,X=d==="y"?yt:vt,z=d==="y"?"height":"width",G=A[d],W=G+O[Y],at=G-O[X],st=E?-H[z]/2:0,M=P===Xt?D[z]:H[z],R=P===Xt?-H[z]:-D[z],xt=r.elements.arrow,ut=E&&xt?Ve(xt):{width:0,height:0},Q=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:Sr(),ct=Q[Y],It=Q[X],K=te(0,D[z],ut[z]),Et=F?D[z]/2-st-K-ct-N.mainAxis:M-K-ct-N.mainAxis,mt=F?-D[z]/2+st+K+It+N.mainAxis:R+K+It+N.mainAxis,Lt=r.elements.arrow&&ue(r.elements.arrow),Pt=Lt?d==="y"?Lt.clientTop||0:Lt.clientLeft||0:0,lt=(U=q==null?void 0:q[d])!=null?U:0,Bt=G+Et-lt-Pt,jt=G+mt-lt,Ft=te(E?me(W,Bt):W,G,E?Rt(at,jt):at);A[d]=Ft,j[d]=Ft-G;}if(u){var Ot,Vt=d==="x"?et:rt,Ht=d==="x"?yt:vt,ft=A[L],nt=L==="y"?"height":"width",J=ft+O[Vt],gt=ft-O[Ht],Dt=[et,rt].indexOf(_)!==-1,it=(Ot=q==null?void 0:q[L])!=null?Ot:0,qt=Dt?J:ft-D[nt]-H[nt]-it+N.altAxis,o=Dt?ft+D[nt]+H[nt]-it-N.altAxis:gt,e=E&&Dt?In(qt,ft,o):te(E?qt:J,ft,E?o:gt);A[L]=e,j[L]=e-ft;}r.modifiersData[a]=j;}}const oi={name:"preventOverflow",enabled:!0,phase:"main",fn:ii,requiresIfExists:["offset"]};function ai(t){return {scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function si(t){return t===ot(t)||!ht(t)?qe(t):ai(t)}function ui(t){var r=t.getBoundingClientRect(),i=Kt(r.width)/t.offsetWidth||1,a=Kt(r.height)/t.offsetHeight||1;return i!==1||a!==1}function ci(t,r,i){i===void 0&&(i=!1);var a=ht(r),s=ht(r)&&ui(r),f=_t(r),l=Jt(t,s,i),u={scrollLeft:0,scrollTop:0},h={x:0,y:0};return (a||!a&&!i)&&((Ct(r)!=="body"||ze(f))&&(u=si(r)),ht(r)?(h=Jt(r,!0),h.x+=r.clientLeft,h.y+=r.clientTop):f&&(h.x=We(f))),{x:l.left+u.scrollLeft-h.x,y:l.top+u.scrollTop-h.y,width:l.width,height:l.height}}function li(t){var r=new Map,i=new Set,a=[];t.forEach(function(f){r.set(f.name,f);});function s(f){i.add(f.name);var l=[].concat(f.requires||[],f.requiresIfExists||[]);l.forEach(function(u){if(!i.has(u)){var h=r.get(u);h&&s(h);}}),a.push(f);}return t.forEach(function(f){i.has(f.name)||s(f);}),a}function fi(t){var r=li(t);return Bn.reduce(function(i,a){return i.concat(r.filter(function(s){return s.phase===a}))},[])}function pi(t){var r;return function(){return r||(r=new Promise(function(i){Promise.resolve().then(function(){r=void 0,i(t());});})),r}}function di(t){var r=t.reduce(function(i,a){var s=i[a.name];return i[a.name]=s?Object.assign({},s,a,{options:Object.assign({},s.options,a.options),data:Object.assign({},s.data,a.data)}):a,i},{});return Object.keys(r).map(function(i){return r[i]})}var ir={placement:"bottom",modifiers:[],strategy:"absolute"};function or(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return !r.some(function(a){return !(a&&typeof a.getBoundingClientRect=="function")})}function hi(t){t===void 0&&(t={});var r=t,i=r.defaultModifiers,a=i===void 0?[]:i,s=r.defaultOptions,f=s===void 0?ir:s;return function(u,h,b){b===void 0&&(b=f);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},ir,f),modifiersData:{},elements:{reference:u,popper:h},attributes:{},styles:{}},x=[],I=!1,E={state:m,setOptions:function(_){var P=typeof _=="function"?_(m.options):_;T(),m.options=Object.assign({},f,m.options,P),m.scrollParents={reference:Nt(u)?ee(u):u.contextElement?ee(u.contextElement):[],popper:ee(h)};var F=fi(di([].concat(a,m.options.modifiers)));return m.orderedModifiers=F.filter(function(d){return d.enabled}),S(),E.update()},forceUpdate:function(){if(!I){var _=m.elements,P=_.reference,F=_.popper;if(or(P,F)){m.rects={reference:ci(P,ue(F),m.options.strategy==="fixed"),popper:Ve(F)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(N){return m.modifiersData[N.name]=Object.assign({},N.data)});for(var d=0;d<m.orderedModifiers.length;d++){if(m.reset===!0){m.reset=!1,d=-1;continue}var L=m.orderedModifiers[d],A=L.fn,D=L.options,H=D===void 0?{}:D,V=L.name;typeof A=="function"&&(m=A({state:m,options:H,name:V,instance:E})||m);}}}},update:pi(function(){return new Promise(function(O){E.forceUpdate(),O(m);})}),destroy:function(){T(),I=!0;}};if(!or(u,h))return E;E.setOptions(b).then(function(O){!I&&b.onFirstUpdate&&b.onFirstUpdate(O);});function S(){m.orderedModifiers.forEach(function(O){var _=O.name,P=O.options,F=P===void 0?{}:P,d=O.effect;if(typeof d=="function"){var L=d({state:m,name:_,instance:E,options:F}),A=function(){};x.push(L||A);}});}function T(){x.forEach(function(O){return O()}),x=[];}return E}}var yi=[Un,ri,Mn,Br,ti,Xn,oi,_n,Jn],vi=hi({defaultModifiers:yi}),mi="tippy-box",Lr="tippy-content",gi="tippy-backdrop",_r="tippy-arrow",Pr="tippy-svg-arrow",$t={passive:!0,capture:!0},Fr=function(){return document.body};function Se(t,r,i){if(Array.isArray(t)){var a=t[r];return a??(Array.isArray(i)?i[r]:i)}return t}function Ge(t,r){var i={}.toString.call(t);return i.indexOf("[object")===0&&i.indexOf(r+"]")>-1}function Dr(t,r){return typeof t=="function"?t.apply(void 0,r):t}function ar(t,r){if(r===0)return t;var i;return function(a){clearTimeout(i),i=setTimeout(function(){t(a);},r);}}function bi(t){return t.split(/\s+/).filter(Boolean)}function Yt(t){return [].concat(t)}function sr(t,r){t.indexOf(r)===-1&&t.push(r);}function wi(t){return t.filter(function(r,i){return t.indexOf(r)===i})}function xi(t){return t.split("-")[0]}function ge(t){return [].slice.call(t)}function ur(t){return Object.keys(t).reduce(function(r,i){return t[i]!==void 0&&(r[i]=t[i]),r},{})}function re(){return document.createElement("div")}function xe(t){return ["Element","Fragment"].some(function(r){return Ge(t,r)})}function Ei(t){return Ge(t,"NodeList")}function Bi(t){return Ge(t,"MouseEvent")}function Ti(t){return !!(t&&t._tippy&&t._tippy.reference===t)}function Ai(t){return xe(t)?[t]:Ei(t)?ge(t):Array.isArray(t)?t:ge(document.querySelectorAll(t))}function Ce(t,r){t.forEach(function(i){i&&(i.style.transitionDuration=r+"ms");});}function cr(t,r){t.forEach(function(i){i&&i.setAttribute("data-state",r);});}function Si(t){var r,i=Yt(t),a=i[0];return a!=null&&(r=a.ownerDocument)!=null&&r.body?a.ownerDocument:document}function Ci(t,r){var i=r.clientX,a=r.clientY;return t.every(function(s){var f=s.popperRect,l=s.popperState,u=s.props,h=u.interactiveBorder,b=xi(l.placement),m=l.modifiersData.offset;if(!m)return !0;var x=b==="bottom"?m.top.y:0,I=b==="top"?m.bottom.y:0,E=b==="right"?m.left.x:0,S=b==="left"?m.right.x:0,T=f.top-a+x>h,O=a-f.bottom-I>h,_=f.left-i+E>h,P=i-f.right-S>h;return T||O||_||P})}function Ie(t,r,i){var a=r+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){t[a](s,i);});}function lr(t,r){for(var i=r;i;){var a;if(t.contains(i))return !0;i=i.getRootNode==null||(a=i.getRootNode())==null?void 0:a.host;}return !1}var Tt={isTouch:!1},fr=0;function Ii(){Tt.isTouch||(Tt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Mr));}function Mr(){var t=performance.now();t-fr<20&&(Tt.isTouch=!1,document.removeEventListener("mousemove",Mr)),fr=t;}function Oi(){var t=document.activeElement;if(Ti(t)){var r=t._tippy;t.blur&&!r.state.isVisible&&t.blur();}}function ki(){document.addEventListener("touchstart",Ii,$t),window.addEventListener("blur",Oi);}var Li=typeof window<"u"&&typeof document<"u",_i=Li?!!window.msCrypto:!1,Pi={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Fi={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},bt=Object.assign({appendTo:Fr,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Pi,Fi),Di=Object.keys(bt),Mi=function(r){var i=Object.keys(r);i.forEach(function(a){bt[a]=r[a];});};function $r(t){var r=t.plugins||[],i=r.reduce(function(a,s){var f=s.name,l=s.defaultValue;if(f){var u;a[f]=t[f]!==void 0?t[f]:(u=bt[f])!=null?u:l;}return a},{});return Object.assign({},t,i)}function $i(t,r){var i=r?Object.keys($r(Object.assign({},bt,{plugins:r}))):Di,a=i.reduce(function(s,f){var l=(t.getAttribute("data-tippy-"+f)||"").trim();if(!l)return s;if(f==="content")s[f]=l;else try{s[f]=JSON.parse(l);}catch{s[f]=l;}return s},{});return a}function pr(t,r){var i=Object.assign({},r,{content:Dr(r.content,[t])},r.ignoreAttributes?{}:$i(t,r.plugins));return i.aria=Object.assign({},bt.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?r.interactive:i.aria.expanded,content:i.aria.content==="auto"?r.interactive?null:"describedby":i.aria.content},i}var Ui=function(){return "innerHTML"};function _e(t,r){t[Ui()]=r;}function dr(t){var r=re();return t===!0?r.className=_r:(r.className=Pr,xe(t)?r.appendChild(t):_e(r,t)),r}function hr(t,r){xe(r.content)?(_e(t,""),t.appendChild(r.content)):typeof r.content!="function"&&(r.allowHTML?_e(t,r.content):t.textContent=r.content);}function Pe(t){var r=t.firstElementChild,i=ge(r.children);return {box:r,content:i.find(function(a){return a.classList.contains(Lr)}),arrow:i.find(function(a){return a.classList.contains(_r)||a.classList.contains(Pr)}),backdrop:i.find(function(a){return a.classList.contains(gi)})}}function Ur(t){var r=re(),i=re();i.className=mi,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var a=re();a.className=Lr,a.setAttribute("data-state","hidden"),hr(a,t.props),r.appendChild(i),i.appendChild(a),s(t.props,t.props);function s(f,l){var u=Pe(r),h=u.box,b=u.content,m=u.arrow;l.theme?h.setAttribute("data-theme",l.theme):h.removeAttribute("data-theme"),typeof l.animation=="string"?h.setAttribute("data-animation",l.animation):h.removeAttribute("data-animation"),l.inertia?h.setAttribute("data-inertia",""):h.removeAttribute("data-inertia"),h.style.maxWidth=typeof l.maxWidth=="number"?l.maxWidth+"px":l.maxWidth,l.role?h.setAttribute("role",l.role):h.removeAttribute("role"),(f.content!==l.content||f.allowHTML!==l.allowHTML)&&hr(b,t.props),l.arrow?m?f.arrow!==l.arrow&&(h.removeChild(m),h.appendChild(dr(l.arrow))):h.appendChild(dr(l.arrow)):m&&h.removeChild(m);}return {popper:r,onUpdate:s}}Ur.$$tippy=!0;var Ri=1,ye=[],Oe=[];function Ni(t,r){var i=pr(t,Object.assign({},bt,$r(ur(r)))),a,s,f,l=!1,u=!1,h=!1,b=!1,m,x,I,E=[],S=ar(Bt,i.interactiveDebounce),T,O=Ri++,_=null,P=wi(i.plugins),F={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},d={id:O,reference:t,popper:re(),popperInstance:_,props:i,state:F,plugins:P,clearDelayTimeouts:qt,setProps:o,setContent:e,show:n,hide:c,hideWithInteractivity:p,enable:Dt,disable:it,unmount:v,destroy:g};if(!i.render)return d;var L=i.render(d),A=L.popper,D=L.onUpdate;A.setAttribute("data-tippy-root",""),A.id="tippy-"+d.id,d.popper=A,t._tippy=d,A._tippy=d;var H=P.map(function(y){return y.fn(d)}),V=t.hasAttribute("aria-expanded");return Lt(),st(),G(),W("onCreate",[d]),i.showOnCreate&&J(),A.addEventListener("mouseenter",function(){d.props.interactive&&d.state.isVisible&&d.clearDelayTimeouts();}),A.addEventListener("mouseleave",function(){d.props.interactive&&d.props.trigger.indexOf("mouseenter")>=0&&Y().addEventListener("mousemove",S);}),d;function N(){var y=d.props.touch;return Array.isArray(y)?y:[y,0]}function q(){return N()[0]==="hold"}function j(){var y;return !!((y=d.props.render)!=null&&y.$$tippy)}function U(){return T||t}function Y(){var y=U().parentNode;return y?Si(y):document}function X(){return Pe(A)}function z(y){return d.state.isMounted&&!d.state.isVisible||Tt.isTouch||m&&m.type==="focus"?0:Se(d.props.delay,y?0:1,bt.delay)}function G(y){y===void 0&&(y=!1),A.style.pointerEvents=d.props.interactive&&!y?"":"none",A.style.zIndex=""+d.props.zIndex;}function W(y,w,B){if(B===void 0&&(B=!0),H.forEach(function(C){C[y]&&C[y].apply(C,w);}),B){var k;(k=d.props)[y].apply(k,w);}}function at(){var y=d.props.aria;if(y.content){var w="aria-"+y.content,B=A.id,k=Yt(d.props.triggerTarget||t);k.forEach(function(C){var Z=C.getAttribute(w);if(d.state.isVisible)C.setAttribute(w,Z?Z+" "+B:B);else {var pt=Z&&Z.replace(B,"").trim();pt?C.setAttribute(w,pt):C.removeAttribute(w);}});}}function st(){if(!(V||!d.props.aria.expanded)){var y=Yt(d.props.triggerTarget||t);y.forEach(function(w){d.props.interactive?w.setAttribute("aria-expanded",d.state.isVisible&&w===U()?"true":"false"):w.removeAttribute("aria-expanded");});}}function M(){Y().removeEventListener("mousemove",S),ye=ye.filter(function(y){return y!==S});}function R(y){if(!(Tt.isTouch&&(h||y.type==="mousedown"))){var w=y.composedPath&&y.composedPath()[0]||y.target;if(!(d.props.interactive&&lr(A,w))){if(Yt(d.props.triggerTarget||t).some(function(B){return lr(B,w)})){if(Tt.isTouch||d.state.isVisible&&d.props.trigger.indexOf("click")>=0)return}else W("onClickOutside",[d,y]);d.props.hideOnClick===!0&&(d.clearDelayTimeouts(),d.hide(),u=!0,setTimeout(function(){u=!1;}),d.state.isMounted||ct());}}}function xt(){h=!0;}function ut(){h=!1;}function Q(){var y=Y();y.addEventListener("mousedown",R,!0),y.addEventListener("touchend",R,$t),y.addEventListener("touchstart",ut,$t),y.addEventListener("touchmove",xt,$t);}function ct(){var y=Y();y.removeEventListener("mousedown",R,!0),y.removeEventListener("touchend",R,$t),y.removeEventListener("touchstart",ut,$t),y.removeEventListener("touchmove",xt,$t);}function It(y,w){Et(y,function(){!d.state.isVisible&&A.parentNode&&A.parentNode.contains(A)&&w();});}function K(y,w){Et(y,w);}function Et(y,w){var B=X().box;function k(C){C.target===B&&(Ie(B,"remove",k),w());}if(y===0)return w();Ie(B,"remove",x),Ie(B,"add",k),x=k;}function mt(y,w,B){B===void 0&&(B=!1);var k=Yt(d.props.triggerTarget||t);k.forEach(function(C){C.addEventListener(y,w,B),E.push({node:C,eventType:y,handler:w,options:B});});}function Lt(){q()&&(mt("touchstart",lt,{passive:!0}),mt("touchend",jt,{passive:!0})),bi(d.props.trigger).forEach(function(y){if(y!=="manual")switch(mt(y,lt),y){case"mouseenter":mt("mouseleave",jt);break;case"focus":mt(_i?"focusout":"blur",Ft);break;case"focusin":mt("focusout",Ft);break}});}function Pt(){E.forEach(function(y){var w=y.node,B=y.eventType,k=y.handler,C=y.options;w.removeEventListener(B,k,C);}),E=[];}function lt(y){var w,B=!1;if(!(!d.state.isEnabled||Ot(y)||u)){var k=((w=m)==null?void 0:w.type)==="focus";m=y,T=y.currentTarget,st(),!d.state.isVisible&&Bi(y)&&ye.forEach(function(C){return C(y)}),y.type==="click"&&(d.props.trigger.indexOf("mouseenter")<0||l)&&d.props.hideOnClick!==!1&&d.state.isVisible?B=!0:J(y),y.type==="click"&&(l=!B),B&&!k&&gt(y);}}function Bt(y){var w=y.target,B=U().contains(w)||A.contains(w);if(!(y.type==="mousemove"&&B)){var k=nt().concat(A).map(function(C){var Z,pt=C._tippy,Wt=(Z=pt.popperInstance)==null?void 0:Z.state;return Wt?{popperRect:C.getBoundingClientRect(),popperState:Wt,props:i}:null}).filter(Boolean);Ci(k,y)&&(M(),gt(y));}}function jt(y){var w=Ot(y)||d.props.trigger.indexOf("click")>=0&&l;if(!w){if(d.props.interactive){d.hideWithInteractivity(y);return}gt(y);}}function Ft(y){d.props.trigger.indexOf("focusin")<0&&y.target!==U()||d.props.interactive&&y.relatedTarget&&A.contains(y.relatedTarget)||gt(y);}function Ot(y){return Tt.isTouch?q()!==y.type.indexOf("touch")>=0:!1}function Vt(){Ht();var y=d.props,w=y.popperOptions,B=y.placement,k=y.offset,C=y.getReferenceClientRect,Z=y.moveTransition,pt=j()?Pe(A).arrow:null,Wt=C?{getBoundingClientRect:C,contextElement:C.contextElement||U()}:t,Ke={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(pe){var zt=pe.state;if(j()){var Zr=X(),Te=Zr.box;["placement","reference-hidden","escaped"].forEach(function(de){de==="placement"?Te.setAttribute("data-placement",zt.placement):zt.attributes.popper["data-popper-"+de]?Te.setAttribute("data-"+de,""):Te.removeAttribute("data-"+de);}),zt.attributes.popper={};}}},Mt=[{name:"offset",options:{offset:k}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Z}},Ke];j()&&pt&&Mt.push({name:"arrow",options:{element:pt,padding:3}}),Mt.push.apply(Mt,(w==null?void 0:w.modifiers)||[]),d.popperInstance=vi(Wt,A,Object.assign({},w,{placement:B,onFirstUpdate:I,modifiers:Mt}));}function Ht(){d.popperInstance&&(d.popperInstance.destroy(),d.popperInstance=null);}function ft(){var y=d.props.appendTo,w,B=U();d.props.interactive&&y===Fr||y==="parent"?w=B.parentNode:w=Dr(y,[B]),w.contains(A)||w.appendChild(A),d.state.isMounted=!0,Vt();}function nt(){return ge(A.querySelectorAll("[data-tippy-root]"))}function J(y){d.clearDelayTimeouts(),y&&W("onTrigger",[d,y]),Q();var w=z(!0),B=N(),k=B[0],C=B[1];Tt.isTouch&&k==="hold"&&C&&(w=C),w?a=setTimeout(function(){d.show();},w):d.show();}function gt(y){if(d.clearDelayTimeouts(),W("onUntrigger",[d,y]),!d.state.isVisible){ct();return}if(!(d.props.trigger.indexOf("mouseenter")>=0&&d.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(y.type)>=0&&l)){var w=z(!1);w?s=setTimeout(function(){d.state.isVisible&&d.hide();},w):f=requestAnimationFrame(function(){d.hide();});}}function Dt(){d.state.isEnabled=!0;}function it(){d.hide(),d.state.isEnabled=!1;}function qt(){clearTimeout(a),clearTimeout(s),cancelAnimationFrame(f);}function o(y){if(!d.state.isDestroyed){W("onBeforeUpdate",[d,y]),Pt();var w=d.props,B=pr(t,Object.assign({},w,ur(y),{ignoreAttributes:!0}));d.props=B,Lt(),w.interactiveDebounce!==B.interactiveDebounce&&(M(),S=ar(Bt,B.interactiveDebounce)),w.triggerTarget&&!B.triggerTarget?Yt(w.triggerTarget).forEach(function(k){k.removeAttribute("aria-expanded");}):B.triggerTarget&&t.removeAttribute("aria-expanded"),st(),G(),D&&D(w,B),d.popperInstance&&(Vt(),nt().forEach(function(k){requestAnimationFrame(k._tippy.popperInstance.forceUpdate);})),W("onAfterUpdate",[d,y]);}}function e(y){d.setProps({content:y});}function n(){var y=d.state.isVisible,w=d.state.isDestroyed,B=!d.state.isEnabled,k=Tt.isTouch&&!d.props.touch,C=Se(d.props.duration,0,bt.duration);if(!(y||w||B||k)&&!U().hasAttribute("disabled")&&(W("onShow",[d],!1),d.props.onShow(d)!==!1)){if(d.state.isVisible=!0,j()&&(A.style.visibility="visible"),G(),Q(),d.state.isMounted||(A.style.transition="none"),j()){var Z=X(),pt=Z.box,Wt=Z.content;Ce([pt,Wt],0);}I=function(){var Mt;if(!(!d.state.isVisible||b)){if(b=!0,A.offsetHeight,A.style.transition=d.props.moveTransition,j()&&d.props.animation){var Be=X(),pe=Be.box,zt=Be.content;Ce([pe,zt],C),cr([pe,zt],"visible");}at(),st(),sr(Oe,d),(Mt=d.popperInstance)==null||Mt.forceUpdate(),W("onMount",[d]),d.props.animation&&j()&&K(C,function(){d.state.isShown=!0,W("onShown",[d]);});}},ft();}}function c(){var y=!d.state.isVisible,w=d.state.isDestroyed,B=!d.state.isEnabled,k=Se(d.props.duration,1,bt.duration);if(!(y||w||B)&&(W("onHide",[d],!1),d.props.onHide(d)!==!1)){if(d.state.isVisible=!1,d.state.isShown=!1,b=!1,l=!1,j()&&(A.style.visibility="hidden"),M(),ct(),G(!0),j()){var C=X(),Z=C.box,pt=C.content;d.props.animation&&(Ce([Z,pt],k),cr([Z,pt],"hidden"));}at(),st(),d.props.animation?j()&&It(k,d.unmount):d.unmount();}}function p(y){Y().addEventListener("mousemove",S),sr(ye,S),S(y);}function v(){d.state.isVisible&&d.hide(),d.state.isMounted&&(Ht(),nt().forEach(function(y){y._tippy.unmount();}),A.parentNode&&A.parentNode.removeChild(A),Oe=Oe.filter(function(y){return y!==d}),d.state.isMounted=!1,W("onHidden",[d]));}function g(){d.state.isDestroyed||(d.clearDelayTimeouts(),d.unmount(),Pt(),delete t._tippy,d.state.isDestroyed=!0,W("onDestroy",[d]));}}function ce(t,r){r===void 0&&(r={});var i=bt.plugins.concat(r.plugins||[]);ki();var a=Object.assign({},r,{plugins:i}),s=Ai(t),f=s.reduce(function(l,u){var h=u&&Ni(u,a);return h&&l.push(h),l},[]);return xe(t)?f[0]:f}ce.defaultProps=bt;ce.setDefaultProps=Mi;ce.currentInput=Tt;Object.assign({},Br,{effect:function(r){var i=r.state,a={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,a.popper),i.styles=a,i.elements.arrow&&Object.assign(i.elements.arrow.style,a.arrow);}});ce.setDefaultProps({render:Ur});var ji=(()=>typeof GM_getValue<"u"?GM_getValue:void 0)(),Vi=(()=>typeof GM_info<"u"?GM_info:void 0)(),Hi=(()=>typeof GM_registerMenuCommand<"u"?GM_registerMenuCommand:void 0)(),qi=(()=>typeof GM_setClipboard<"u"?GM_setClipboard:void 0)(),Wi=(()=>typeof GM_setValue<"u"?GM_setValue:void 0)(),Rr={exports:{}};/*!
     * Toastify js 1.12.0
     * https://github.com/apvarun/toastify-js
     * @license MIT licensed
     *
     * Copyright (C) 2018 Varun A P
     */(function(t){(function(r,i){t.exports?t.exports=i():r.Toastify=i();})(en,function(r){var i=function(l){return new i.lib.init(l)},a="1.12.0";i.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},i.lib=i.prototype={toastify:a,constructor:i,init:function(l){return l||(l={}),this.options={},this.toastElement=null,this.options.text=l.text||i.defaults.text,this.options.node=l.node||i.defaults.node,this.options.duration=l.duration===0?0:l.duration||i.defaults.duration,this.options.selector=l.selector||i.defaults.selector,this.options.callback=l.callback||i.defaults.callback,this.options.destination=l.destination||i.defaults.destination,this.options.newWindow=l.newWindow||i.defaults.newWindow,this.options.close=l.close||i.defaults.close,this.options.gravity=l.gravity==="bottom"?"toastify-bottom":i.defaults.gravity,this.options.positionLeft=l.positionLeft||i.defaults.positionLeft,this.options.position=l.position||i.defaults.position,this.options.backgroundColor=l.backgroundColor||i.defaults.backgroundColor,this.options.avatar=l.avatar||i.defaults.avatar,this.options.className=l.className||i.defaults.className,this.options.stopOnFocus=l.stopOnFocus===void 0?i.defaults.stopOnFocus:l.stopOnFocus,this.options.onClick=l.onClick||i.defaults.onClick,this.options.offset=l.offset||i.defaults.offset,this.options.escapeMarkup=l.escapeMarkup!==void 0?l.escapeMarkup:i.defaults.escapeMarkup,this.options.ariaLive=l.ariaLive||i.defaults.ariaLive,this.options.style=l.style||i.defaults.style,l.backgroundColor&&(this.options.style.background=l.backgroundColor),this},buildToast:function(){if(!this.options)throw "Toastify is not initialized";var l=document.createElement("div");l.className="toastify on "+this.options.className,this.options.position?l.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(l.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):l.className+=" toastify-right",l.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var u in this.options.style)l.style[u]=this.options.style[u];if(this.options.ariaLive&&l.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)l.appendChild(this.options.node);else if(this.options.escapeMarkup?l.innerText=this.options.text:l.innerHTML=this.options.text,this.options.avatar!==""){var h=document.createElement("img");h.src=this.options.avatar,h.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?l.appendChild(h):l.insertAdjacentElement("afterbegin",h);}if(this.options.close===!0){var b=document.createElement("button");b.type="button",b.setAttribute("aria-label","Close"),b.className="toast-close",b.innerHTML="&#10006;",b.addEventListener("click",(function(O){O.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue);}).bind(this));var m=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&m>360?l.insertAdjacentElement("afterbegin",b):l.appendChild(b);}if(this.options.stopOnFocus&&this.options.duration>0){var x=this;l.addEventListener("mouseover",function(O){window.clearTimeout(l.timeOutValue);}),l.addEventListener("mouseleave",function(){l.timeOutValue=window.setTimeout(function(){x.removeElement(l);},x.options.duration);});}if(typeof this.options.destination<"u"&&l.addEventListener("click",(function(O){O.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination;}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&l.addEventListener("click",(function(O){O.stopPropagation(),this.options.onClick();}).bind(this)),typeof this.options.offset=="object"){var I=s("x",this.options),E=s("y",this.options),S=this.options.position=="left"?I:"-"+I,T=this.options.gravity=="toastify-top"?E:"-"+E;l.style.transform="translate("+S+","+T+")";}return l},showToast:function(){this.toastElement=this.buildToast();var l;if(typeof this.options.selector=="string"?l=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?l=this.options.selector:l=document.body,!l)throw "Root element is not defined";var u=i.defaults.oldestFirst?l.firstChild:l.lastChild;return l.insertBefore(this.toastElement,u),i.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement);}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement);},removeElement:function(l){l.className=l.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),l.parentNode&&l.parentNode.removeChild(l),this.options.callback.call(l),i.reposition();}).bind(this),400);}},i.reposition=function(){for(var l={top:15,bottom:15},u={top:15,bottom:15},h={top:15,bottom:15},b=document.getElementsByClassName("toastify"),m,x=0;x<b.length;x++){f(b[x],"toastify-top")===!0?m="toastify-top":m="toastify-bottom";var I=b[x].offsetHeight;m=m.substr(9,m.length-1);var E=15,S=window.innerWidth>0?window.innerWidth:screen.width;S<=360?(b[x].style[m]=h[m]+"px",h[m]+=I+E):f(b[x],"toastify-left")===!0?(b[x].style[m]=l[m]+"px",l[m]+=I+E):(b[x].style[m]=u[m]+"px",u[m]+=I+E);}return this};function s(l,u){return u.offset[l]?isNaN(u.offset[l])?u.offset[l]:u.offset[l]+"px":"0px"}function f(l,u){return !l||typeof u!="string"?!1:!!(l.className&&l.className.trim().split(/\s+/gi).indexOf(u)>-1)}return i.lib.init.prototype=i.lib,i});})(Rr);var zi=Rr.exports;const Fe=rn(zi);const Gi=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75" />
</svg>`,Yi=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
<path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" />
</svg>`,Xi=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
<path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />
</svg>`,Ki=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
<path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
</svg>
`;var wt=(t=>(t.Checkbox="checkbox",t.Text="text",t.Select="select",t.Multiselect="multiselect",t.Custom="custom",t))(wt||{});const oe=()=>window.location.pathname,Nr=()=>oe()+window.location.search,le=(t,r)=>{Wi(t,JSON.stringify(r));},Ee=t=>{const r=ji(t);return r?JSON.parse(r):!1},De=t=>new URLSearchParams(window.location.search).get(t),Ji=t=>`
      <div id='${t.id}-settings' class='plugin-settings'>
      
      <div id='${t.id}-settings-header' class='plugin-settings-header'>
      <input type='checkbox' class='adm-designed-checkbox' id='${t.id}_enabled' data-setting='enabled' name='${t.id}_enabled' ${t.isEnabled()?"checked":""} >
      <label for='${t.id}_enabled' class='adm-designed-checkbox-label'></label>
      <label for='${t.id}_enabled' title='Включить плагин'><b>${t.name}</b></label>
      </div>
        <div id='${t.id}-inputs' class='plugin-inputs'>
          ${Zi(t)}
        </div>
      </div>
    `,Zi=t=>{let r="";const i=t.getSettings(),a=t.getSavedSettings();for(let s in i){if(i[s].hasOwnProperty("displayCondition")&&!i[s].displayCondition())continue;const f=i[s];f.name&&(r+=`<div class='plugin-input ${f.hint?"with-hint":""}'>`,f.type===wt.Checkbox&&(r+=`
              <input
              class='adm-designed-checkbox'
              type='checkbox'
              id='${t.id}_${s}'
              name='${t.id}_${s}'
              ${a[s]?"checked":""}
              title='${f.name}'
              data-setting='${s}'
              >
              <label for='${t.id}_${s}' class='adm-designed-checkbox-label'></label>
              <label for='${t.id}_${s}'>${f.name}</label>
            `),f.type===wt.Text&&(r+=`
            <label for='${t.id}_${s}'>${f.name}</label>
            <input
            type='text'
            id='${t.id}_${s}'
            name='${t.id}_${s}'
            value='${a[s]??""}'
            title='${f.name}'
            data-setting='${s}'>
            `),f.hotkey&&(r+=`<div class='hotkey-block'"><kbd>${f.hotkey}</kbd></div>`),f.hint&&(r+=`<div class='hint-block' data-tippy-content="${f.hint}">${Xi}</div>`),r+="</div>");}return r},Qi=t=>{const r=atob(t).split("");return Uint8Array.from(r,i=>i.codePointAt(0))},to=t=>{const r=String.fromCodePoint(...t);return btoa(r)},eo=t=>to(new TextEncoder().encode(t)),ro=t=>new TextDecoder().decode(Qi(t)),jr=()=>{const t=navigator.userAgent;return /Macintosh/i.test(t)},no=t=>jr()?t.metaKey:t.ctrlKey,io=()=>jr()?"⌘":"Ctrl",Vr=t=>t.headers.has("X-Bitrix-Ajax-Status")&&t.headers.get("X-Bitrix-Ajax-Status")==="Authorize",Ye=()=>BX.message("LANGUAGE_ID"),oo=t=>encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A"),ao=()=>oo(Nr()),so=()=>Vi.script.version,ae=t=>{typeof t=="string"?Fe({text:t}).showToast():Fe(t).showToast();},uo=(t,r)=>{let i=Ee("notifications"),a={};a[r]=t,i&&(a={...i,...a}),le("notifications",a);},co=()=>{let t=Ee("notifications");if(t)for(let r in t)Fe(t[r]).showToast();le("notifications",{});},Hr=()=>{ae("Ваша сессия истекла. Необходима авторизация.");};class fe{constructor(){$(this,"id");$(this,"name");$(this,"url");$(this,"settings");$(this,"enabled");$(this,"useDedicatedTab");$(this,"tab");$(this,"getSettings",()=>this.settings);$(this,"getSavedSettings",()=>Ee(this.id));$(this,"getSavedSetting",r=>{const i=this.getSavedSettings();return i?i[r]:!1});$(this,"isEnabled",()=>{const r=this.getSavedSettings();return r?r.enabled:!1});$(this,"getTabId",()=>`${this.id}_tabcontent`);$(this,"saveSettings",()=>{});this.id="plugin",this.name="Plugin",this.url="",this.settings={},this.enabled=this.isEnabled()??!1,this.useDedicatedTab=!1,this.tab={id:this.getTabId(),name:"plugin",content:""};}}const Xe={};var lo=globalThis&&globalThis.__read||function(t,r){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var a=i.call(t),s,f=[],l;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)f.push(s.value);}catch(u){l={error:u};}finally{try{s&&!s.done&&(i=a.return)&&i.call(a);}finally{if(l)throw l.error}}return f},fo={N:"null",i:"int",d:"float",b:"boolean",s:"string",a:"array-object",C:"serializable-class",O:"notserializable-class"},po=function(){function t(r,i,a){this.contents=r,this.index=i,this.options=a;}return t.prototype.error=function(r){return r===void 0&&(r="Syntax Error"),new Error(r+" at index "+this.index+" while unserializing payload")},t.prototype.advance=function(r){this.index+=r;},t.prototype.readAhead=function(r){var i=this.peekAhead(r);return this.index+=r,i},t.prototype.readUntil=function(r){var i=this.contents.indexOf(r,this.index);if(i===-1)throw this.error("Expected '"+r+"'");return this.readAhead(i-this.index)},t.prototype.peekAhead=function(r){return this.contents.toString(this.options.encoding,this.index,this.index+r)},t.prototype.seekExpected=function(r){var i=this.readAhead(r.length);if(i!==r)throw this.index-=r.length,this.error("Expected '"+r+"'")},t.prototype.getType=function(){var r=lo(this.readAhead(2),2),i=r[0],a=r[1],s=fo[i];if(!s)throw this.error("Unknown type");if(s==="null"?a!==";":a!==":")throw this.error();return s},t.prototype.getLength=function(){var r=parseInt(this.readUntil(":"),10);if(Number.isNaN(r))throw this.error();return r},t.prototype.getByLength=function(r,i,a){var s=this.getLength();this.seekExpected(":"+r);var f=a(s);return this.seekExpected(i),f},t}(),qr=function(){function t(r){this.__PHP_Incomplete_Class_Name=r;}return t}();function yr(t,r){return typeof Buffer<"u"?Buffer.byteLength(t,r.encoding):encodeURIComponent(t).replace(/%[A-F\d]{2}/g,"U").length}function Wr(t){return typeof t=="number"&&parseInt(t.toString(),10)===t}function ho(t){return new qr(t)}function yo(t){function r(){}return r.prototype=t,r}var Me=globalThis&&globalThis.__assign||function(){return Me=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);}return t},Me.apply(this,arguments)};function vr(t,r,i){var a,s=r[t];return Xe(s||!i,"Class "+t+" not found in given scope"),s?a=new(yo(s.prototype)):a=ho(t),a}function mr(t,r,i,a){for(var s=[],f=0;f<r;f+=1){var l=$e(t,i,a);t.seekExpected(";");var u=$e(t,i,a);t.peekAhead(1)===";"&&t.advance(1),s.push({key:l,value:u});}return s}function $e(t,r,i){var a=t.getType();if(a==="null")return null;if(a==="int"||a==="float"){var s=t.readUntil(";");return a==="int"?parseInt(s,10):parseFloat(s)}if(a==="boolean"){var s=t.readAhead(1);return s==="1"}if(a==="string")return t.getByLength('"','"',function(S){return t.readAhead(S)});if(a==="array-object"){var f=t.getByLength("{","}",function(S){return mr(t,S,r,i)}),l=f.every(function(S,T){return Wr(S.key)&&T===S.key}),u=l?[]:{};return f.forEach(function(S){var T=S.key,O=S.value;u[T]=O;}),u}if(a==="notserializable-class"){var h=t.getByLength('"','"',function(T){return t.readAhead(T)});t.seekExpected(":");var f=t.getByLength("{","}",function(T){return mr(t,T,r,i)}),b=vr(h,r,i.strict),m="\0"+h+"\0",x="\0*\0";return f.forEach(function(T){var O=T.key,_=T.value;O.startsWith(m)?b[O.slice(m.length)]=_:O.startsWith(x)?b[O.slice(x.length)]=_:b[O]=_;}),b}if(a==="serializable-class"){var h=t.getByLength('"','"',function(T){return t.readAhead(T)});t.seekExpected(":");var I=t.getByLength("{","}",function(T){return t.readAhead(T)}),E=vr(h,r,i.strict);return E instanceof qr||(Xe(E.unserialize,"unserialize not found on class when processing '"+h+"'"),E.unserialize(I)),E}throw new Error("Invalid type '"+a+"' encounterd while unserializing")}function vo(t,r,i){r===void 0&&(r={}),i===void 0&&(i={});var a=Me({},i);typeof a.strict>"u"&&(a.strict=!0),typeof a.encoding>"u"&&(a.encoding="utf8");var s=new po(Buffer.from(t),0,a);return $e(s,r,a)}var Ue=globalThis&&globalThis.__assign||function(){return Ue=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);}return t},Ue.apply(this,arguments)},mo=globalThis&&globalThis.__read||function(t,r){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var a=i.call(t),s,f=[],l;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)f.push(s.value);}catch(u){l={error:u};}finally{try{s&&!s.done&&(i=a.return)&&i.call(a);}finally{if(l)throw l.error}}return f};function go(t,r){return Object.keys(r).find(function(i){return t instanceof r[i]})||t.__PHP_Incomplete_Class_Name||t.constructor.name}function gr(t,r){var i=Array.isArray(t)?t.map(function(s,f){return ""+Ut(f,r)+Ut(s,r)}):Object.keys(t).map(function(s){return ""+Ut(s,r)+Ut(t[s],r)}),a=i.filter(function(s){return typeof s<"u"}).length;return a+":{"+i.join("")+"}"}function Ut(t,r,i){r===void 0&&(r={}),i===void 0&&(i={});var a=typeof t,s=Ue({},i);if(typeof s.encoding>"u"&&(s.encoding="utf8"),t===null)return "N;";if(a==="number")return Wr(t)?"i:"+t+";":"d:"+t.toString().toUpperCase()+";";if(a==="string")return "s:"+yr(t,s)+':"'+t+'";';if(a==="boolean")return "b:"+(t?"1":"0")+";";if(a!=="object")throw new TypeError("Unexpected type '"+a+"' encountered while attempting to serialize");if(Array.isArray(t)||t.constructor.name==="Object")return "a:"+gr(t,r);if(t instanceof Map)return "a:"+t.size+":{"+Array.from(t.entries()).map(function(u){var h=mo(u,2),b=h[0],m=h[1];return ""+Ut(b,r)+Ut(m,r)}).join("")+"}";var f=go(t,r);if(typeof t.serialize=="function"){var l=t.serialize();return Xe(typeof l=="string",t.constructor.name+".serialize should return a string"),"C:"+f.length+':"'+f+'":'+yr(l,s)+":{"+l+"}"}return "O:"+f.length+':"'+f+'":'+gr(t,r)}var tt=(t=>(t.Iblock="IBLOCK",t.Element="ELEMENT",t.Section="SECTION",t))(tt||{});const zr=(t,r,i)=>{fetch("/bitrix/admin/iblock_redirect_entity.php?lang="+Ye(),{headers:{"content-type":"application/x-www-form-urlencoded"},body:`sessid=${BX.message("bitrix_sessid")}&ENTITY=${t}&ID=${r}`,method:"POST",mode:"cors",credentials:"include"}).then(a=>{a.ok&&a.redirected?window.location.assign(a.url):i&&i(a);});};class bo extends fe{constructor(){super();$(this,"usePropertyTweaks",()=>{if(!this.getSavedSetting("propertyTweaks"))return;const i=document.querySelector("#edit2_edit_table"),a=i==null?void 0:i.children[0];if(a){const s=document.createElement("table");s.classList.add("internal"),s.style.margin="0 auto",s.innerHTML=`
                <tbody>
                    <tr class="heading"><td>Настройки свойств</td></tr>
                    <tr>
                    <td>
                    <input type="checkbox" class="adm-designed-checkbox" id="toggleInactiveProperties">
                    <label class="adm-designed-checkbox-label" for="toggleInactiveProperties" title="Акт."></label>
                    <label for="toggleInactiveProperties">Скрыть/Показать неактивные свойства</label>
                    </td>
                    </tr>
                    <tr>
                    <td>
                    <label for="sortStep">Проставить сортировку с шагом: </label>
                    <input type="text" size="3" maxlength="3" id="sortStep" value="5">
                    <input type="button" title="Проставить сортировку" id="setPropertySort" value="OK">
                    </td>
                    </tr>
                    <tr class="heading"><td>Перевести код свойств в:</td></tr>
                    <tr>
                    <td>
                    <input type="button" title="ВЕРХНИЙ РЕГИСТР" id="propertyCodeToUpperCase" value="ВЕРХНИЙ РЕГИСТР">
                    <input type="button" title="нижний регистр" id="propertyCodeToLowerCase" value="нижний регистр">
                    </td>
                    </tr>
                </tbody>
              `,a.insertAdjacentElement("afterbegin",s),document.querySelector("#toggleInactiveProperties").addEventListener("change",this.toggleInactiveProperties),document.querySelector("#setPropertySort").addEventListener("click",this.setPropertySort),document.querySelector("#propertyCodeToUpperCase").addEventListener("click",this.propertyCodeToUpperCase),document.querySelector("#propertyCodeToLowerCase").addEventListener("click",this.propertyCodeToLowerCase);}});$(this,"showElementsButton",()=>{if(!this.getSavedSetting("showElementsButton"))return;const i=De("ID"),a=document.querySelector(".adm-detail-toolbar"),s=document.createElement("input");s.type="button",s.classList.add("go-to-elements-btn"),s.value="Перейти к списку элементов",s.addEventListener("click",f=>{f.preventDefault(),s.disabled=!0,zr(tt.Iblock,i,l=>{s.disabled=!1,Vr(l)?Hr():ae("Произошла ошибка");});}),a==null||a.classList.add("with-go-to-elements-btn"),a==null||a.insertAdjacentElement("beforeend",s);});$(this,"suggestMigration",()=>{if(this.isMigrationsModuleInstalled()&&this.getSavedSetting("suggestMigration")){const i=document.querySelector("#frm");i==null||i.addEventListener("submit",function(){uo({text:"Нажмите чтобы перейти к созданию миграции",duration:-1,destination:"/bitrix/admin/sprint_migrations.php?config=cfg&lang="+Ye(),newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0},"suggest-migration-creation");});}});$(this,"copyPasteProperties",()=>{if(!this.getSavedSetting("copyPasteProperties"))return;let i=document.querySelector("#ib_prop_list .heading"),a=document.createElement("td");a.textContent="Коп. / Встав.",i==null||i.insertAdjacentElement("beforeend",a),document.querySelectorAll("#ib_prop_list tr:not(.heading)").forEach(l=>{this.insertCopyPasteColToPropertyTable(l);});const f=document.querySelector("#edit2_edit_table .adm-btn-big");f==null||f.addEventListener("click",()=>{let l=document.querySelector("#ib_prop_list tr:not(.heading):not(.has-copy-paste-property)");l&&this.insertCopyPasteColToPropertyTable(l);});});$(this,"isMigrationsModuleInstalled",()=>!!localStorage.getItem("migrations_open_builder"));$(this,"toggleInactiveProperties",i=>{const a=i.currentTarget.checked;document.querySelectorAll("input[type=checkbox][id$=ACTIVE_Y]:not(:checked)").forEach(s=>{a?s.closest("#ib_prop_list tr").style.display="none":s.closest("#ib_prop_list tr").style.display="";});});$(this,"setPropertySort",()=>{const i=parseInt(document.querySelector("#sortStep").value,10),a=i>0?i:5;let s=a;document.querySelectorAll("input[id$=_SORT]").forEach(f=>{f.value=s.toString(),s+=a;});});$(this,"propertyCodeToUpperCase",()=>{document.querySelectorAll("input[id$=_CODE]").forEach(i=>{i.value=i.value.toUpperCase();});});$(this,"propertyCodeToLowerCase",()=>{document.querySelectorAll("input[id$=_CODE]").forEach(i=>{i.value=i.value.toLowerCase();});});$(this,"insertCopyPasteColToPropertyTable",i=>{let a=document.createElement("td");a.classList.add("copy-paste-property");let s=document.createElement("button");s.classList.add("copy-property-btn"),s.title="Копировать",s.innerHTML=Gi,a.insertAdjacentElement("beforeend",s),s.addEventListener("click",l=>{l.preventDefault();let u=l.target,h=u==null?void 0:u.closest("tr");h&&this.copyProperty(h);});let f=document.createElement("button");f.classList.add("paste-property-btn"),f.title="Вставить",f.innerHTML=Yi,a.insertAdjacentElement("beforeend",f),f.addEventListener("click",async l=>{l.preventDefault();const u=prompt("Вставьте скопированный код свойства");if(u){const h=JSON.parse(u);if(h){let b=l.target,m=b==null?void 0:b.closest("tr");m&&this.pasteProperty(h,m);}}}),i.classList.add("has-copy-paste-property"),i.insertAdjacentElement("beforeend",a);});$(this,"copyProperty",i=>{var E,S,T,O,_,P,F,d;const a=i.getAttribute("id"),s=(E=i.querySelector(`#${a}_NAME`))==null?void 0:E.value;let f=(S=i.querySelector(`#${a}_PROPINFO`))==null?void 0:S.value;if(f){let L=ro(f),A=vo(L,{});A.IBLOCK_ID=0,L=Ut(A),f=eo(L);}const l=(T=i.querySelector(`#${a}_PROPERTY_TYPE`))==null?void 0:T.value,u=(O=i.querySelector(`#${a}_ACTIVE_Y`))==null?void 0:O.checked,h=(_=i.querySelector(`#${a}_MULTIPLE_Y`))==null?void 0:_.checked,b=(P=i.querySelector(`#${a}_IS_REQUIRED_Y`))==null?void 0:P.checked,m=(F=i.querySelector(`#${a}_SORT`))==null?void 0:F.value,x=(d=i.querySelector(`#${a}_CODE`))==null?void 0:d.value;qi(JSON.stringify({name:s,propInfo:f,type:l,active:u,multiple:h,required:b,sort:m,code:x}),"text"),ae(`Свойство "${s}" скопировано`);});$(this,"pasteProperty",(i,a)=>{let s=a.getAttribute("id");s&&(s=s==null?void 0:s.replace("_ROW",""));let f=a.querySelector(`#${s}_NAME`);f&&(f.value=i.name);let l=a.querySelector(`#${s}_PROPINFO`);l&&(l.value=i.propInfo);let u=a.querySelector(`#${s}_PROPERTY_TYPE`);u&&(u.value=i.type);let h=a.querySelector(`#${s}_ACTIVE_Y`);h&&(h.checked=i.active);let b=a.querySelector(`#${s}_MULTIPLE_Y`);b&&(b.checked=i.multiple);let m=a.querySelector(`#${s}_IS_REQUIRED_Y`);m&&(m.checked=i.required);let x=a.querySelector(`#${s}_SORT`);x&&(x.value=i.sort);let I=a.querySelector(`#${s}_CODE`);I&&(I.value=i.code);});this.id="iblock",this.name="Страница настроек инфоблока",this.url="/bitrix/admin/iblock_edit.php",this.useDedicatedTab=!1,this.settings={propertyTweaks:{name:"Показать настройки сортировки свойств",type:wt.Checkbox,defaultValue:!0},copyPasteProperties:{name:"Включить возможность копирования свойств",type:wt.Checkbox,defaultValue:!1},showElementsButton:{name:"Показать кнопку перехода к элементам инфоблока",type:wt.Checkbox,defaultValue:!0},suggestMigration:{name:"Предлагать создать миграцию после изменений настроек инфоблока",type:wt.Checkbox,defaultValue:!1,displayCondition:this.isMigrationsModuleInstalled}};}init(){this.isEnabled()&&(this.usePropertyTweaks(),this.showElementsButton(),this.suggestMigration(),this.copyPasteProperties());}}const Gr=[],Yr=new Set,wo=t=>{t.forEach(r=>{Gr.push(r),xo(r),Xr(r),r.isEnabled()&&(typeof r.url=="string"?r.url===oe()||r.url==="*":r.url.includes(oe()))&&r.init();});},xo=t=>{const r=Ee(t.id);r?Bo(t,r):Eo(t);},Eo=t=>{const r=t.settings;let i={};i.enabled=t.enabled;for(let a in r)i[a]=r[a].defaultValue;le(t.id,i);},Bo=(t,r)=>{const i=t.settings;for(let a in i)r.hasOwnProperty(a)||(r[a]=i[a].defaultValue);le(t.id,r);},Xr=t=>{t.useDedicatedTab&&Yr.add(t.tab);},Kr=()=>Gr,To=()=>Yr,Ao=()=>{let t={title:BX.message("JS_CORE_WINDOW_SAVE"),id:"savebtn",name:"savebtn",className:"adm-btn-save",action:function(){Kr().forEach(f=>f.saveSettings()),ae({text:"Настройки будут применены после перезагрузки страницы",destination:Nr(),close:!0,newWindow:!1}),this.parentWindow.Close();}},{tabList:r,contentList:i}=Co(),a=new BX.CDialog({width:900,height:500,min_width:900,min_height:500,resizable:!0,title:"Bitrix Helper - Настройки",buttons:[t,BX.CDialog.btnClose],content:`
            <form id="bx-helper-settings-form">
                <div class="bx-helper-tab-list">
                  ${r}
                </div>
                ${i}
            </form>

        `});window.__bxhelper__={settingsPopup:a},Hi("Открыть окно настроек",()=>{Jr();}),Io();},Jr=()=>{window.__bxhelper__.settingsPopup.Show(),So();},So=()=>{const t=document.querySelector("#bx-toolbar-settings-form");if(t){const r=t.closest(".bx-core-window");r&&(r.style.position="fixed",r.style.top="20%");}},Co=()=>{const t=To(),r=Array.from(t).map((a,s)=>`<div class="bx-helper-tab-btn ${s===0?"bx-helper-tab-btn-active":""}" data-tab="#bx-helper-tab${s+1}">${a.name}</div>`).join(""),i=Array.from(t).map((a,s)=>`<div class="bx-helper-tab-content ${s===0?"bx-helper-tab-content-active":""}" id="bx-helper-tab${s+1}">
      <div class="inner-tab-container">
        ${a.content}
        </div>
      </div>`).join("");return {tabList:r,contentList:i}},Io=()=>{const t=document.querySelector("#bx-helper-settings-form");t&&t.addEventListener("submit",i=>{i.preventDefault();});const r=document.querySelectorAll(".bx-helper-tab-btn");r.forEach(i=>{i.addEventListener("click",()=>{const a=i.dataset.tab;r.forEach(l=>{l.classList.remove("bx-helper-tab-btn-active");}),i.classList.add("bx-helper-tab-btn-active"),document.querySelectorAll(".bx-helper-tab-content").forEach(l=>{l.classList.remove("bx-helper-tab-content-active");});const f=document.querySelector(a);f&&f.classList.add("bx-helper-tab-content-active");});}),document.addEventListener("keydown",i=>{i.altKey&&i.shiftKey&&i.code==="KeyT"&&Jr();});};class Oo extends fe{constructor(){super(),this.id="settings",this.name="Настройки",this.url="*",this.useDedicatedTab=!0,this.enabled=!0,this.tab={id:this.getTabId(),name:this.name,content:""},this.saveSettings=()=>{for(let r of this.getPlugins()){let i={};document.querySelectorAll(`#${r.id}-settings input[data-setting]`).forEach(a=>{let s="";switch(a.getAttribute("type")){case"checkbox":s=a.checked;break;default:s=a.value;}let f=a.getAttribute("data-setting");f&&(i[f]=s);}),le(r.id,i);}};}init(){this.tab.content=this.getTabContent(),Xr(this);}getPlugins(){return Kr().filter(r=>r.id!==this.id&&r.useDedicatedTab==!1)}getTabContent(){let r="<div class='list-of-plugin-settings'>";for(let i of this.getPlugins())r+=Ji(i);return r+="</div>",r}}class ko extends fe{constructor(){super(),this.id="about",this.name="О скрипте",this.enabled=!0,this.useDedicatedTab=!0,this.tab={id:this.getTabId(),name:this.name,content:this.getTabContent()};}init(){}getTabContent(){return `
    <h3>Привет!</h3>
    <p>Этот скрипт был создан для того чтобы облегчить нелегкую жизнь тех кто имеет дело с Битриксом.<br>
    По-сути это набор небольших надстроек над интерфейсом админки, добавляющий полезный (вероятно) для разработчиков функционал, который не имеет смысла реализовывать в качестве модуля.<br>К тому же модули нужно таскать из проекта в проект, а скрипт работает сразу на всех ваших проектах с Битриксом.</p>
    <hr>
    <h4>Q&A:</h4>
    <p>
    <strong>Где посмотреть исходный код?</strong><br>
    Ссылка на репозиторий появится позже на этой странице.
    </p>
    <p>
    <strong>Как обновить скрипт?</strong><br>
    Скрипт обновляется полу-автоматически. Как только новая версия скрипта будет доступна вам будет предложено его обновить.
    </p>
    <p>
    <strong>Куда писать с предложениями?</strong><br>
    Пишите мне на почту <a href="mailto:drumkillamusic@gmail.com">drumkillamusic@gmail.com</a> с пометкой BitrixHelper.
    </p>
    <hr>
    <h4>Отказ от ответственности:</h4>
    Автор скрипта не несет ответственности за потерю данных, нарушение работы сайтов где он используется и прочие побочные эффекты.
    <hr>
    BitrixHelper v${so()}

    `}}class Lo extends fe{constructor(){super(),this.id="common",this.name="Общие",this.enabled=!0,this.url="*",this.useDedicatedTab=!1,this.settings={fixMenuScroll:{name:"Закрепить левое меню",defaultValue:!1,type:wt.Checkbox},goToIblockEntity:{name:"Включить возможность перехода к инфоблоку или его элементам / разделам",defaultValue:!0,type:wt.Checkbox,hotkey:`${io()} + J`}};}init(){this.isEnabled()&&(this.fixMenuScroll(),this.goToIblockEntity());}fixMenuScroll(){if(!this.getSavedSetting("fixMenuScroll"))return;const r=document.querySelector(".adm-submenu");r&&r.classList.add("bx-helper-menu-fixed");}goToIblockEntity(){this.getSavedSetting("goToIblockEntity")&&document.addEventListener("keydown",r=>{no(r)&&r.key==="j"&&this.showGoToIblockEntityPopup();});}showGoToIblockEntityPopup(){var i,a,s;let r=document.querySelector(".go-to-iblock-entity-popup");if(r)r.style.display="block",(s=document.querySelector('input[name="entity-type"]'))==null||s.focus();else {const f=document.createElement("form");f.classList.add("go-to-iblock-entity-popup"),f.innerHTML=`
        <fieldset class='entity-selector'>
          <legend>Перейти к сущности<span class='close-btn'>${Ki}</span></legend>
          <div class="entity-selector-group">
            <span class="entity-selector-item">
              <input type="radio" id="entity-type-${tt.Iblock}" name="entity-type" checked="" value="${tt.Iblock}">
              <label for="entity-type-${tt.Iblock}">Инфоблок</label>
            </span>
            <span class="entity-selector-item">
              <input type="radio" id="entity-type-${tt.Element}" name="entity-type" value="${tt.Element}">
              <label for="entity-type-${tt.Element}">Элемент</label>
            </span>
            <span class="entity-selector-item">
              <input type="radio" id="entity-type-${tt.Section}" name="entity-type" value="${tt.Section}">
              <label for="entity-type-${tt.Section}">Раздел</label>
            </span>
          </div>
        </fieldset>
        <div class='entity-id'>
          <input type="number" min="1" id="entity-id-input" name="entity-id" class="main-ui-control main-ui-control-string" placeholder="Введите ID" required>
        </div>
        <div class='form-submit'>
          <input type="submit" class="go-to-iblock-entity-popup-submit" value="Перейти">
        </div>
      `,f.addEventListener("submit",u=>{var I;u.preventDefault();const h=(I=f.querySelector('input[name="entity-type"]:checked'))==null?void 0:I.value,b=f.querySelector('input[name="entity-id"]'),m=b==null?void 0:b.value,x=f.querySelector(".go-to-iblock-entity-popup-submit");x.disabled=!0,x.value="Подождите...",b.disabled=!0,zr(h,m,E=>{var T;let S="";if(Vr(E))Hr();else {switch(h){case tt.Element:S="Элемент ";break;case tt.Iblock:S="Инфоблок ";break;case tt.Section:S="Раздел ";break}S+="не найден",ae(S);}b.disabled=!1,x.disabled=!1,x.value="Перейти",(T=document.querySelector('input[name="entity-id"]'))==null||T.focus();});}),(i=document.querySelector("body"))==null||i.insertAdjacentElement("afterbegin",f),(a=document.querySelector('input[name="entity-type"]'))==null||a.focus(),f.addEventListener("keydown",u=>{u.key==="Escape"&&(f.style.display="none");});const l=f.querySelector(".close-btn");l&&l.addEventListener("click",()=>{f.style.display="none";});}}}class _o extends fe{constructor(){super(),this.id="hlblock",this.name="Страница списка записей Highload-блока",this.enabled=!0,this.url=["/bitrix/admin/highloadblock_rows_list.php","/bitrix/admin/userfield_admin.php"],this.useDedicatedTab=!1,this.settings={showGoToFieldsBtn:{name:"Показать кнопку перехода к списку полей",defaultValue:!0,type:wt.Checkbox},showEditBtn:{name:"Показать кнопку перехода к редактированию Highload-блока",defaultValue:!0,type:wt.Checkbox}};}init(){this.isEnabled()&&(this.showGoToFieldsBtn(),this.showEditBtn());}showGoToFieldsBtn(){if(!this.getSavedSetting("showGoToFieldsBtn")||oe()==="/bitrix/admin/userfield_admin.php")return;const r=document.querySelector(".adm-list-table-top .adm-btn-save"),i=document.createElement("a");i.classList.add("adm-btn"),i.innerText="Список полей";const a="userfield_admin.php?lang="+Ye()+"&set_filter=Y&find=HLBLOCK_"+this.getEntityId()+"&find_type=ENTITY_ID&back_url="+ao();i.href=a,r==null||r.insertAdjacentElement("afterend",i);}showEditBtn(){if(!this.getSavedSetting("showEditBtn"))return;const r=document.querySelector(".adm-list-table-top .adm-btn-save"),i=document.createElement("a");i.classList.add("adm-btn"),i.innerText="Редактировать HL-блок",i.href="highloadblock_entity_edit.php?ID="+this.getEntityId(),r==null||r.insertAdjacentElement("afterend",i);}getEntityId(){var i;let r;return oe()==="/bitrix/admin/highloadblock_rows_list.php"?r=De("ENTITY_ID"):r=(i=De("find"))==null?void 0:i.replace("HLBLOCK_",""),r||""}}window.Buffer=br.Buffer;co(),wo([new Lo,new bo,new _o,new Oo,new ko]),Ao(),ce("[data-tippy-content]");

})();